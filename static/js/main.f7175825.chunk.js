(this["webpackJsonpdcs-weather-app"]=this["webpackJsonpdcs-weather-app"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(48),o=n.n(c),i=(n(61),n(18)),l=n(8),u=n(14),s=n(5),m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d={SEARCH_RESULT:"SEARCH_RESULT",SET_WEATHER_CURRENT:"SET_WEATHER_CURRENT",SET_WEATHER_FORECAST:"SET_WEATHER_FORECAST",ADD_CITIES:"ADD_CITIES",REMOVE_CITY:"REMOVE_CITY",TOGGLE_FAVORITES:"TOGGLE_FAVORITES",LOADING_CITIES:"LOADING_CITIES",LOADING_WEATHER:"LOADING_WEATHER",ADD_NOTE:"ADD_NOTE",REMOVE_NOTE:"REMOVE_NOTE",EDIT_NOTE:"EDIT_NOTE"},f={xxs:"320px",xs:"480",sm:"768px",md:"992px",lg:"1200px",xl:"1600px"},E={searchResult:{},weather:{},cities:[],favorites:[],notes:[],loadingCities:!1,loadingWeather:!1},p=function(e,t){switch(t.type){case d.SEARCH_RESULT:return Object(s.a)(Object(s.a)({},e),{},{searchResult:t.weather});case d.SET_WEATHER_CURRENT:return Object(s.a)(Object(s.a)({},e),{},{weather:t.weather});case d.ADD_CITIES:return Object(s.a)(Object(s.a)({},e),{},{cities:t.cities,error:t.error});case d.REMOVE_CITY:return Object(s.a)(Object(s.a)({},e),{},{cities:[].concat(Object(u.a)(e.cities.slice(0,t.cityIdx)),Object(u.a)(e.cities.slice(t.cityIdx+1)))});case d.TOGGLE_FAVORITES:var n=t.weather.location.name,r=e.favorites.findIndex((function(e){return e.location.name===n}));if(-1===r){var a=[].concat(Object(u.a)(e.favorites),[t.weather]).sort((function(e,t){return e.location.name.localeCompare(t.location.name)}));return Object(s.a)(Object(s.a)({},e),{},{favorites:a})}return Object(s.a)(Object(s.a)({},e),{},{favorites:[].concat(Object(u.a)(e.favorites.slice(0,r)),Object(u.a)(e.favorites.slice(r+1)))});case d.LOADING_CITIES:return Object(s.a)(Object(s.a)({},e),{},{loadingCities:t.loading});case d.LOADING_WEATHER:return Object(s.a)(Object(s.a)({},e),{},{loadingWeather:t.loading});case d.ADD_NOTE:return Object(s.a)(Object(s.a)({},e),{},{notes:[].concat(Object(u.a)(e.notes),[t.payload])});case d.REMOVE_NOTE:var c=e.notes.filter((function(e){return e.id!==t.payload.id}));return Object(s.a)(Object(s.a)({},e),{},{notes:c});case d.EDIT_NOTE:var o=e.notes.findIndex((function(e){return e.id===t.payload.id}));return Object(s.a)(Object(s.a)({},e),{},{notes:[].concat(Object(u.a)(e.notes.slice(0,o)),[Object(s.a)(Object(s.a)({},e.notes[o]),{},{note:t.payload.note,editedAt:t.payload.editedAt})],Object(u.a)(e.notes.slice(o+1)))});default:return e}},b=Object(r.createContext)(),v={WeatherStateContext:b,WeatherStateProvider:function(e){var t=e.children;return a.a.createElement(b.Provider,{value:Object(r.useReducer)(p,E)},t)}},g=n(1),y=n(2);function h(){var e=Object(g.a)(["\n  margin-bottom: 2.5rem;\n"]);return h=function(){return e},e}var O=y.b.div(h());function j(){var e=Object(g.a)(["\n      @media only screen and (min-device-width: ",") {\n        ",";\n      }\n    "]);return j=function(){return e},e}var x=Object.keys(f).reduce((function(e,t){return e[t]=function(){return Object(y.a)(j(),f[t],y.a.apply(void 0,arguments))},e}),{});function w(){var e=Object(g.a)(["padding: 0 20rem;"]);return w=function(){return e},e}function S(){var e=Object(g.a)(["padding: 0 2rem;"]);return S=function(){return e},e}function z(){var e=Object(g.a)(["padding: 0 1rem;"]);return z=function(){return e},e}function C(){var e=Object(g.a)(["\n  margin-top: 1.5rem;\n\n  ","\n  ","\n  ","\n"]);return C=function(){return e},e}var T=y.b.div(C(),x.xxs(z()),x.sm(S()),x.lg(w()));T.Panel=O;var _=T,k=n(4),I=n(52),A=n.n(I),R=n(53),D=n.n(R),L=n(25),N=n(6),W=n(13),G=n.n(W),H=n(15),F=n(16),B=n.n(F);function P(){var e=Object(r.useContext)(v.WeatherStateContext),t=Object(k.a)(e,2)[1],n=Object(r.useState)({}),a=Object(k.a)(n,2),c=a[0],o=a[1];return{fetchWeather:Object(r.useCallback)(function(){var e=Object(H.a)(G.a.mark((function e(n,r){var a,c,i,l;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:n},e.prev=1,t({type:d.LOADING_WEATHER,loading:!0}),e.next=5,B.a.get("".concat("https://api.weatherstack.com","/current"),{params:a});case 5:c=e.sent,i=c.data,t({type:d.LOADING_WEATHER,loading:!1}),i.error?o(i.error.info):("SEARCH_RESULT"===d[r]?window.localStorage.setItem("storedSearch",JSON.stringify(i)):window.localStorage.setItem("storedWeather",JSON.stringify(i)),t({type:d[r],weather:i})),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),l=window.localStorage.getItem("storedWeather"),t({type:d.LOADING_WEATHER,loading:!1}),t({type:d[r],weather:JSON.parse(l)}),o(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),[t]),errorMessage:c}}function M(){var e=Object(g.a)(["\n  background-color: #fffaf3;\n  box-shadow: 0 0 0 1px #c9ba9b inset, 0 0 0 0 transparent;\n  display: none;\n  color: #573a08;\n  padding: 1.6rem;\n  position: fixed;\n  top: 3%;\n  right: 2%;\n  width: 35rem;\n  width: 35rem;\n\n  ","\n"]);return M=function(){return e},e}var V=y.b.div(M(),(function(e){return e.show&&"display: flex;"}));function U(){var e=Object(g.a)(["font-size: 2.4rem;"]);return U=function(){return e},e}function q(){var e=Object(g.a)(["font-size: 2rem;"]);return q=function(){return e},e}function J(){var e=Object(g.a)(["font-size: 1.8rem;"]);return J=function(){return e},e}function Y(){var e=Object(g.a)(["font-size: 1.6rem;"]);return Y=function(){return e},e}function Z(){var e=Object(g.a)(["font-size: 1.4rem;"]);return Z=function(){return e},e}function K(){var e=Object(g.a)(["font-size: 2.2rem;"]);return K=function(){return e},e}function Q(){var e=Object(g.a)(["font-size: 2rem;"]);return Q=function(){return e},e}function X(){var e=Object(g.a)(["font-size: 1.6rem;"]);return X=function(){return e},e}function $(){var e=Object(g.a)(["font-size: 1.4rem;"]);return $=function(){return e},e}function ee(){var e=Object(g.a)(["font-size: 1.2rem;"]);return ee=function(){return e},e}function te(){var e=Object(g.a)(["\n  ",";\n  ",";\n  ",";\n  ",";\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return te=function(){return e},e}var ne=y.b.span(te(),(function(e){return e.primary&&"font-family: 'Fredoka One'"}),(function(e){return e.secondary&&"font-family: 'Raleway'"}),(function(e){return e.weight&&"font-weight: ".concat(e.weight)}),(function(e){return e.size&&"font-size: ".concat(e.size)}),(function(e){return!e.size&&e.primary&&x.xxs(ee())}),(function(e){return!e.size&&e.primary&&x.xs($())}),(function(e){return!e.size&&e.primary&&x.sm(X())}),(function(e){return!e.size&&e.primary&&x.md(Q())}),(function(e){return!e.size&&e.primary&&x.lg(K())}),(function(e){return!e.size&&e.secondary&&x.xxs(Z())}),(function(e){return!e.size&&e.secondary&&x.xs(Y())}),(function(e){return!e.size&&e.secondary&&x.sm(J())}),(function(e){return!e.size&&e.secondary&&x.md(q())}),(function(e){return!e.size&&e.secondary&&x.lg(U())}));function re(){var e=Object(g.a)(["\n  display: inline-block;\n\n  ",";\n  ",";\n"]);return re=function(){return e},e}var ae=y.b.span(re(),(function(e){return e.color&&"color: ".concat(e.color)}),(function(e){return e.hover&&"cursor: pointer"}));var ce=function(e){var t=e.color,n=e.icon,r=e.size,c=e.onIconClick,o=e.hover,i=e.spin;return a.a.createElement(ae,{color:t,onClick:c,hover:o},a.a.createElement(L.a,{icon:n,size:r,spin:i}))};function oe(){var e=Object(g.a)(["\n  cursor: pointer;\n  background-color: transparent;\n  border: none;\n\n  > span {\n    font-family: Raleway;\n    font-size: 1.5rem;\n    font-weight: 600;\n    text-decoration: underline;\n  }\n"]);return oe=function(){return e},e}function ie(){var e=Object(g.a)(["\n  background-color: transparent;\n  border: none;\n  margin-left: -3.5rem;\n  z-index: 10;\n  transition: all 0.2s ease-in-out;\n\n  &:active {\n    transform: translateY(5px);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return ie=function(){return e},e}function le(){var e=Object(g.a)(["\n  & {\n    display: flex;\n\n    & .react-autosuggest {\n      &__container {\n        flex: 1;\n        position: relative;\n      }\n\n      &__input {\n        border: 2px solid var(--color-lightgrey);\n        font-family: 'Fredoka One', cursive;\n        font-size: 2.5rem;\n        letter-spacing: 2px;\n        padding: 1rem 4rem 1rem 1rem;\n        outline: none;\n        transition: all 0.2s ease-in-out;\n        width: 100%;\n\n        &::placeholder {\n          color: var(--color-lightgrey);\n        }\n\n        &:focus {\n          border: 2px solid var(--color-lightslategrey);\n\n          &::placeholder {\n            color: var(--color-lightslategrey);\n          }\n        }\n\n        &--open {\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      &__suggestions {\n        &-container {\n          display: none;\n        }\n\n        &-container--open {\n          display: block;\n          position: absolute;\n          top: 6rem;\n          width: 100%;\n          border: 2px solid var(--color-lightslategrey);\n          background-color: #fff;\n          font-family: Raleway;\n          font-weight: 400;\n          font-size: 1.6rem;\n          z-index: 10;\n        }\n\n        &-list {\n          margin: 0;\n          padding: 0;\n          list-style-type: none;\n        }\n      }\n\n      &__suggestion {\n        cursor: pointer;\n        padding: 1rem 2rem;\n\n        &--highlighted {\n          background-color: var(--color-lightslategrey);\n        }\n      }\n    }\n  }\n"]);return le=function(){return e},e}function ue(){var e=Object(g.a)(["\n  margin: 0 auto;\n  max-width: 60rem;\n"]);return ue=function(){return e},e}var se=y.b.div(ue()),me=y.b.div(le()),de=y.b.button(ie()),fe=y.b.button(oe());var Ee=function(){var e=Object(r.useState)(""),t=Object(k.a)(e,2),n=t[0],c=t[1],o=Object(l.f)(),i=P(),u=i.fetchWeather,s=i.isLoadingWeather,m=function(){var e=Object(r.useState)([]),t=Object(k.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(k.a)(c,2),i=o[0],l=o[1],u=Object(r.useState)(null),s=Object(k.a)(u,2),m=s[0],d=s[1],f=Object(r.useCallback)(function(){var e=Object(H.a)(G.a.mark((function e(t){var n,r,c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:t},e.prev=1,l(!0),e.next=5,B.a.get("".concat("https://api.weatherstack.com","/autocomplete"),{params:n});case 5:r=e.sent,(c=r.data).error?d(c.error.info):(d(null),a(c.results)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),d(e.t0);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{results:n,setResults:a,isLookingUp:i,lookup:f,errorLookupMsg:m,setErrorLookupMsg:d}}(),f=m.results,E=m.isLookingUp,p=m.lookup,b=m.errorLookupMsg,v=m.setErrorLookupMsg,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useState)(),n=Object(k.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(),i=Object(k.a)(o,2),l=i[0],u=i[1],s=Object(r.useState)(!1),m=Object(k.a)(s,2),d=m[0],f=m[1],E=function(e){var t=e.coords,n=t.latitude,r=t.longitude;c("".concat(n,",").concat(r)),f(!1)},p=function(e){u(e),f(!1)},b=Object(r.useCallback)((function(){var t=navigator.geolocation;if(f(!0),!t)return f(!1),void u("Geolocation is not supported.");t.getCurrentPosition(E,p,e)}),[e]);return{isLoadingPosition:d,position:a,getPosition:b,error:l}}(),y=g.isLoadingPosition,h=g.position,O=g.getPosition,j=Object(r.useMemo)((function(){return A()(p,400)}),[p]);return Object(r.useEffect)((function(){h&&!y&&o.push("/details",{query:h})}),[h,o,n,y]),a.a.createElement(se,null,a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target[0].value.split(";")[0];""!==t&&u(t,d.SEARCH_RESULT)}},a.a.createElement(me,null,a.a.createElement(D.a,{focusInputOnSuggestionClick:!1,inputProps:{placeholder:"Enter a city name",onChange:function(e,t){var n=t.newValue;c(n)},value:n},suggestions:f,onSuggestionsFetchRequested:function(e){var t=e.reason,n=e.value;"input-changed"===t?j(n):j.cancel()},onSuggestionsClearRequested:function(){},onSuggestionSelected:function(e,t){var n=t.suggestionValue;"click"===e.type&&u(n,d.SEARCH_RESULT)},getSuggestionValue:function(e){return"".concat(e.name,", ").concat(e.region,", ").concat(e.country)},renderSuggestion:function(e){return a.a.createElement("span",null,"".concat(e.name,", ").concat(e.region,", ").concat(e.country))}}),a.a.createElement(de,null,a.a.createElement(L.a,{size:"2x",icon:E||s||y?N.e:N.d,spin:E||s||y})),a.a.createElement(V,{show:b},a.a.createElement(ne,{size:"1.5rem",secondary:!0},b),a.a.createElement("span",{onClick:function(){return v(null)}},a.a.createElement(ce,{size:"2x",icon:N.h}))))),a.a.createElement("div",{style:{marginTop:"1rem",textAlign:"center"}},a.a.createElement(fe,{onClick:function(){return O()}},a.a.createElement("span",null,"Or use my location"))))},pe=n(9),be=n(54);function ve(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  text-align: center;\n  align-items: center;\n"]);return ve=function(){return e},e}var ge=y.b.div(ve());function ye(){var e=Object(g.a)(["\n  margin-bottom: 1.5rem;\n"]);return ye=function(){return e},e}var he=y.b.div(ye());function Oe(){var e=Object(g.a)(["\n  display: inline-block;\n"]);return Oe=function(){return e},e}var je=y.b.div(Oe());je.Group=ge,je.Body=he;var xe=je;function we(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 14.25rem;\n\n  & span {\n    color: lightgrey;\n  }\n"]);return we=function(){return e},e}var Se=y.b.div(we());var ze=function(e){var t=e.text,n=e.size,r=e.icon,c=e.spin;return a.a.createElement(Se,null,a.a.createElement(ce,{icon:r,size:n,spin:c}),a.a.createElement(ne,{size:"2rem",secondary:!0},t))};function Ce(){var e=Object(g.a)(["\n  align-self: flex-end;\n\n  & > img {\n    border-radius: 10rem;\n    height: 12rem;\n    width: 12rem;\n  }\n"]);return Ce=function(){return e},e}function Te(){var e=Object(g.a)(["\n  flex: 1;\n"]);return Te=function(){return e},e}function _e(){var e=Object(g.a)(["\n    margin-bottom: 0;\n  "]);return _e=function(){return e},e}function ke(){var e=Object(g.a)(["\n    margin-bottom: 2rem;\n  "]);return ke=function(){return e},e}function Ie(){var e=Object(g.a)(["\n  display: flex;\n  flex-basis: 40%;\n  justify-content: space-evenly;\n\n  ","\n\n  ","\n"]);return Ie=function(){return e},e}function Ae(){var e=Object(g.a)(["\n    display: flex;\n  "]);return Ae=function(){return e},e}function Re(){var e=Object(g.a)(["\n    display: block;\n  "]);return Re=function(){return e},e}function De(){var e=Object(g.a)(["\n  ","\n\n  ","\n"]);return De=function(){return e},e}function Le(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 2.5rem;\n\n  h2 {\n    margin-bottom: 1rem;\n  }\n"]);return Le=function(){return e},e}var Ne=y.b.header(Le()),We=y.b.div(De(),x.xxs(Re()),x.xl(Ae())),Ge=y.b.div(Ie(),x.xxs(ke()),x.xl(_e())),He=y.b.div(Te()),Fe=y.b.span(Ce());var Be=function(e){var t=e.weather,n=e.favorites,r=e.onToggleFavorites,c=e.loading,o=t.current,i=t.location;return c?a.a.createElement(ze,{size:"6x",text:c?"Loading weather...":"Weather information",icon:c?N.e:pe.e,spin:c}):0===Object.keys(t).length?null:a.a.createElement(a.a.Fragment,null,a.a.createElement(Ne,null,a.a.createElement("div",null,a.a.createElement("h2",{style:{display:"inline-block"}},a.a.createElement(ne,{size:"2.4rem",primary:!0},"".concat(i.name,", ").concat(i.country))),a.a.createElement("p",null,a.a.createElement(ne,{size:"2rem",weight:"300",secondary:!0},new Date(1e3*i.localtime_epoch).toDateString()))),a.a.createElement(ce,{hover:!0,color:"orange",size:"3x",icon:-1!==n.findIndex((function(e){return e.location.name===i.name}))?N.f:pe.d,onIconClick:r})),a.a.createElement(We,null,a.a.createElement(Ge,null,a.a.createElement(Fe,null,a.a.createElement("img",{alt:"weather icon",src:o.weather_icons[0]})),a.a.createElement("div",null,a.a.createElement("h3",null,a.a.createElement(ne,{size:"10rem",secondary:!0},o.temperature,"\xb0")),a.a.createElement("h4",null,a.a.createElement(ne,{size:"2.5rem",weight:"400",secondary:!0},o.weather_descriptions[0])))),a.a.createElement(He,null,a.a.createElement(xe.Group,{style:{height:"100%"}},a.a.createElement(xe,null,a.a.createElement(ne,{weight:"300",primary:!0},"Wind Speed"),a.a.createElement(xe.Body,null,a.a.createElement(ne,{secondary:!0},"".concat(o.wind_speed," km/h"))),a.a.createElement(ce,{icon:N.k,size:"4x"})),a.a.createElement(xe,null,a.a.createElement(ne,{weight:"300",primary:!0},"Wind Direction"),a.a.createElement(xe.Body,null,a.a.createElement(ne,{secondary:!0},"".concat(o.wind_dir))),a.a.createElement(ce,{icon:pe.a,size:"4x"})),a.a.createElement(xe,null,a.a.createElement(ne,{weight:"300",primary:!0},"Pressure"),a.a.createElement(xe.Body,null,a.a.createElement(ne,{secondary:!0},"".concat(o.pressure," mb"))),a.a.createElement(ce,{icon:be.a,size:"4x"})),a.a.createElement(xe,null,a.a.createElement(ne,{weight:"300",primary:!0},"Humidity"),a.a.createElement(xe.Body,null,a.a.createElement(ne,{secondary:!0},"".concat(o.humidity," %"))),a.a.createElement(ce,{icon:N.j,size:"4x"})),a.a.createElement(xe,null,a.a.createElement(ne,{weight:"300",primary:!0},"Cloud Cover"),a.a.createElement(xe.Body,null,a.a.createElement(ne,{secondary:!0},"".concat(o.cloudcover," %"))),a.a.createElement(ce,{icon:N.b,size:"4x"})),a.a.createElement(xe,null,a.a.createElement(ne,{weight:"300",primary:!0},"Feels like"),a.a.createElement(xe.Body,null,a.a.createElement(ne,{secondary:!0},"".concat(o.feelslike," ","\xb0","C"))),a.a.createElement(ce,{icon:N.g,size:"4x"}))))))};var Pe=function(e){var t=e.source,n=Object(r.useContext)(v.WeatherStateContext),c=Object(k.a)(n,2),o=c[0],i=o.loadingWeather,l=o.searchResult,u=o.favorites,s=o.weather,m=c[1];return a.a.createElement(Be,{loading:i,weather:"search"===t?l:s,favorites:u,onToggleFavorites:function(){return m({type:d.TOGGLE_FAVORITES,weather:"search"===t?l:s})}})};function Me(){var e=Object(g.a)(["\n  display: grid;\n  grid-column-gap: 2rem;\n  grid-row-gap: 2rem;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n"]);return Me=function(){return e},e}var Ve=y.b.div(Me());function Ue(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Ue=function(){return e},e}var qe=y.b.header(Ue());var Je=function(e){var t=e.title,n=e.subtitle,r=e.children;return a.a.createElement(qe,null,a.a.createElement("div",null,a.a.createElement("h2",null,a.a.createElement(ne,{size:"2rem",primary:!0},t)),a.a.createElement("p",{style:{minHeight:"1.8rem"}},a.a.createElement(ne,{size:"1.5rem",weight:"200",secondary:!0},n))),r)};function Ye(){var e=Object(g.a)([""]);return Ye=function(){return e},e}var Ze=y.b.div(Ye());function Ke(){var e=Object(g.a)(["\n  background: #fff;\n  padding: 0 1rem;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0;\n  top: 100%;\n  transition: all 0.2s ease-out;\n"]);return Ke=function(){return e},e}var Qe=y.b.div(Ke());function Xe(){var e=Object(g.a)(["\n  border: 1px solid grey;\n  padding: 1rem;\n  position: relative;\n  transition: all 0.2s ease-out;\n\n  ","\n"]);return Xe=function(){return e},e}var $e=y.b.div(Xe(),(function(e){return e.hover&&"&:hover {\n    border: 1px solid deepskyblue;\n    transform: translateY(-10px);\n    .overlay {\n      opacity: 0.8;\n      top: 33%;\n    }\n  }"}));$e.Header=Je,$e.Body=Ze,$e.Overlay=Qe;var et=$e;function tt(){var e=Object(g.a)(["\n  background-color: #fff;\n  border: 1px solid slategray;\n  border-radius: 5rem;\n  font-size: 1.2rem;\n  padding: 5px 8px;\n  transition: all 0.2s ease-out;\n\n  &:hover {\n    cursor: pointer;\n    border: 1px solid deepskyblue;\n    color: deepskyblue;\n  }\n\n  &:active {\n    transform: translateY(5px);\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  justify-content: center;\n  height: 100%;\n\n  & > button:first-child {\n    margin-bottom: 5px;\n  }\n"]);return nt=function(){return e},e}function rt(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n"]);return rt=function(){return e},e}var at=y.b.div(rt()),ct=y.b.div(nt()),ot=y.b.button(tt());ot.Group=ct,ot.Icon=at;var it=ot;function lt(){var e=Object(g.a)(["\n  margin-bottom: 2.5rem;\n"]);return lt=function(){return e},e}var ut=y.b.header(lt());var st=function(){var e=Object(r.useContext)(v.WeatherStateContext),t=Object(k.a)(e,2),n=t[0].favorites,c=t[1],o=Object(l.f)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(ut,null,a.a.createElement("h2",null,a.a.createElement(ne,{size:"2.5rem",weight:"600",secondary:!0},"Favorites (".concat(n.length,")")))),0===n.length?a.a.createElement(ze,{size:"6x",text:"No favorites",icon:pe.b}):a.a.createElement(Ve,{style:{minHeight:"14.25rem"}},n.map((function(e,t){var n=e.current,r=e.location;return a.a.createElement(et,{key:t,hover:!0},a.a.createElement(et.Header,{title:r.name,subtitle:r.region},a.a.createElement(ce,{hover:!0,color:"orange",size:"2x",icon:N.f,onIconClick:function(){return c({type:d.TOGGLE_FAVORITES,weather:e})}})),a.a.createElement(et.Body,null,a.a.createElement("div",null,a.a.createElement(ne,{size:"5rem",secondary:!0},n.temperature,"\xb0")),a.a.createElement("p",{style:{minHeight:"3.7rem"}},a.a.createElement(ne,{size:"1.5rem",weight:"200",secondary:!0},n.weather_descriptions[0]))),a.a.createElement(et.Overlay,{className:"overlay"},a.a.createElement(it.Group,null,a.a.createElement(it,{onClick:function(){return o.push("/details",{weather:e,query:r.name})}},"Learn more"))))}))))},mt=n(28);var dt=function(){var e=Object(r.useContext)(v.WeatherStateContext),t=Object(k.a)(e,2),n=t[0],c=n.cities,o=n.loadingCities,i=n.favorites,s=t[1],m=Object(l.f)(),f=function(){var e=Object(r.useContext)(v.WeatherStateContext),t=Object(k.a)(e,2)[1],n=Object(r.useState)(),a=Object(k.a)(n,2),c=a[0],o=a[1];return{fetchCities:Object(r.useCallback)(Object(H.a)(G.a.mark((function e(){var n,r,a,c,i,l,s,m,f;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("cities.json");case 2:n=e.sent,r=n.data,a={},c=Object(mt.a)(r);try{for(c.s();!(i=c.n()).done;)l=i.value,a[l.Name]={population:l.Population,rank:l.rank}}catch(E){c.e(E)}finally{c.f()}s=r.reduce((function(e,t){return[].concat(Object(u.a)(e),[t.Name])}),[]).join(";"),{access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:s};try{t({type:d.LOADING_CITIES,loading:!0}),m=window.localStorage.getItem("storedCities"),t({type:d.LOADING_CITIES,loading:!1}),t({type:d.ADD_CITIES,cities:JSON.parse(m)})}catch(p){f=window.localStorage.getItem("storedCities"),t({type:d.LOADING_CITIES,loading:!1}),t({type:d.ADD_CITIES,cities:JSON.parse(f)}),o(p)}case 10:case"end":return e.stop()}}),e)}))),[t]),errorCitiesMsg:c}}().fetchCities;return Object(r.useEffect)((function(){0===c.length&&f()}),[c,f]),a.a.createElement(a.a.Fragment,null,a.a.createElement(ut,null,a.a.createElement("h2",null,a.a.createElement(ne,{size:"2.5rem",weight:"600",secondary:!0},"Top 15 cities by population (A-Z)"))),o?a.a.createElement(ze,{size:"6x",text:o?"Loading cities...":"No cities found",icon:o?N.e:pe.b,spin:o}):a.a.createElement(Ve,null,function(){var e=function(){var e,t={},n=Object(mt.a)(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.location.name]=r.location.name}}catch(a){n.e(a)}finally{n.f()}return t}(),t=/\B(?=(\d{3})+(?!\d))/g;return c.map((function(n,r){var c=n.current,o=n.location,i=n.population,l=n.rank;return a.a.createElement(et,{key:r,hover:!0},a.a.createElement(et.Header,{title:o.name,subtitle:o.region},a.a.createElement(ce,{hover:!0,color:"orange",size:"2x",icon:e[o.name]?N.f:pe.d,onIconClick:function(){return s({type:d.TOGGLE_FAVORITES,weather:n})}})),a.a.createElement(et.Body,null,a.a.createElement("div",null,a.a.createElement(ne,{size:"5rem",secondary:!0},c.temperature,"\xb0")),a.a.createElement("p",{style:{minHeight:"3.7rem"}},a.a.createElement(ne,{size:"1.5rem",weight:"200",secondary:!0},c.weather_descriptions[0]))),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(ne,{weight:"600",size:"1.4rem",secondary:!0},"Rank: ",l)),a.a.createElement("div",null,a.a.createElement(ne,{weight:"600",size:"1.4rem",secondary:!0},"Population: ",i.toString().replace(t,",")))),a.a.createElement(et.Overlay,{className:"overlay"},a.a.createElement(it.Group,null,a.a.createElement(it,{onClick:function(){return m.push("/details",{weather:n,query:o.name})}},"Learn more"),a.a.createElement(it,{onClick:function(){s({type:d.REMOVE_CITY,cityIdx:r})}},"Remove"))))}))}()))};var ft=function(){return a.a.createElement(_,null,a.a.createElement(_.Panel,null,a.a.createElement("header",null,a.a.createElement("h1",{style:{textAlign:"center",marginBottom:"1.5rem"}},a.a.createElement(ne,{size:"3.5rem",primary:!0},"Weather App")),a.a.createElement(Ee,null))),a.a.createElement("main",null,a.a.createElement(_.Panel,null,a.a.createElement(Pe,{source:"search"})),a.a.createElement(_.Panel,null,a.a.createElement(st,null)),a.a.createElement(_.Panel,null,a.a.createElement(dt,null))))};var Et=function(e){var t=function(e){var t=Object(r.useState)({}),n=Object(k.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),i=Object(k.a)(o,2),l=i[0],u=i[1],s=Object(r.useState)(""),m=Object(k.a)(s,2),d=m[0],f=m[1],E=Object(r.useCallback)(Object(H.a)(G.a.mark((function t(){var n,r,a,o;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",forecast_days:7,query:e},t.prev=1,u(!0),t.next=5,B.a.get("".concat("https://api.weatherstack.com","/forecast"),{params:n});case 5:r=t.sent,a=r.data,window.localStorage.setItem("storedForecast",JSON.stringify(a.forecast)),u(!1),c(a.forecast),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(1),o=window.localStorage.getItem("storedForecast"),u(!1),c(JSON.parse(o)),f(t.t0);case 18:case"end":return t.stop()}}),t,null,[[1,12]])}))),[e]);return Object(r.useEffect)((function(){E(e)}),[E,e]),{fetchData:E,forecast:a,isLoadingForecoast:l,errorForecastMsg:d}}(e.cityData),n=t.forecast,c=t.isLoadingForecoast;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ut,null,a.a.createElement("h2",null,a.a.createElement(ne,{size:"2.5rem",weight:"600",secondary:!0},"7-day Forecast"))),0===Object.keys(n).length?a.a.createElement(ze,{size:"6x",text:c?"Loading forecast...":"No forecast",icon:c?N.e:pe.b,spin:c}):a.a.createElement(Ve,{style:{minHeight:"14.25rem"}},function(){var e=[];for(var t in n){var r=new Date(n[t].date).getDay();e.push(a.a.createElement(et,{key:t},a.a.createElement(et.Header,{title:m[r]}),a.a.createElement(et.Body,{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"}},a.a.createElement("div",{style:{flex:1}},a.a.createElement(ne,{size:"5rem",secondary:!0},n[t].avgtemp,"\xb0")),a.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},a.a.createElement("div",null,a.a.createElement(ne,{size:"1.5rem",primary:!0},"max:\xa0"),a.a.createElement(ne,{size:"1.8rem",secondary:!0},n[t].maxtemp,"\xb0")),a.a.createElement("div",null,a.a.createElement(ne,{size:"1.5rem",primary:!0},"min:\xa0"),a.a.createElement(ne,{size:"1.8rem",secondary:!0},n[t].mintemp,"\xb0")))),a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.a.createElement(ce,{icon:pe.e,size:"2x"}),a.a.createElement(ne,{size:"1.3rem",secondary:!0},n[t].astro.sunrise),a.a.createElement(ce,{icon:pe.c,size:"2x"}),a.a.createElement(ne,{size:"1.3rem",secondary:!0},n[t].astro.moonrise))))}return e}()))},pt=n(55),bt=n.n(pt);var vt=function(e){var t=e.value,n=e.onBlur,c=Object(r.useState)(t||""),o=Object(k.a)(c,2),i=o[0],l=o[1];return a.a.createElement("textarea",{style:{resize:"none",width:"100%"},rows:"5",value:i,onChange:function(e){return l(e.target.value)},onBlur:function(){return n(i)},autoFocus:!0})};function gt(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return gt=function(){return e},e}var yt=Object(y.b)(ut)(gt());var ht=function(){var e=Object(r.useContext)(v.WeatherStateContext),t=Object(k.a)(e,2),n=t[0],c=n.weather,o=n.notes,i=n.loadingWeather,l=t[1],u=function(e){return e.map((function(e,t){return a.a.createElement(et,{key:"".concat(e.name,"-").concat(t)},a.a.createElement(et.Header,{title:e.dateCreated},a.a.createElement(ce,{hover:!0,size:"2x",icon:N.i,onIconClick:function(){return l({type:d.REMOVE_NOTE,payload:{id:e.id}})}})),a.a.createElement(et.Body,{style:{marginBottom:"1rem",marginTop:"1rem"}},a.a.createElement(vt,{value:e.note,onBlur:function(t){""!==t&&t!==e.note&&l({type:d.EDIT_NOTE,payload:{id:e.id,note:t,editedAt:(new Date).toLocaleTimeString()}})}})),a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("div",null,a.a.createElement(ne,{size:"1.5rem",weight:"600",secondary:!0},"Created at:"," "),a.a.createElement(ne,{size:"1.5rem",secondary:!0},e.createdAt)),e.editedAt&&a.a.createElement("div",null,a.a.createElement(ne,{size:"1.5rem",weight:"600",secondary:!0},"Edited at:"," "),a.a.createElement(ne,{size:"1.5rem",secondary:!0},e.editedAt))))}))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(yt,null,a.a.createElement("h2",null,a.a.createElement(ne,{size:"2.5rem",weight:"600",secondary:!0},"Notes")),a.a.createElement(ce,{onIconClick:function(){l({type:d.ADD_NOTE,payload:{name:c.location.name,id:bt()("".concat(c.location.name,"_")),dateCreated:(new Date).toLocaleDateString(),createdAt:(new Date).toLocaleTimeString()}})},size:"3x",icon:N.c,hover:!0})),i?a.a.createElement(ze,{size:"6x",text:i?"Loading notes...":"Add some notes here",icon:i?N.e:pe.b,spin:i}):function(){var e=c.location,t=o.filter((function(t){return t.name===e.name}));return 0===t.length?a.a.createElement(ze,{size:"6x",text:"Add some notes here'",icon:pe.b}):a.a.createElement(Ve,null,u(t))}())};var Ot=function(e){var t=e.history.location.state.query,n=Object(l.f)(),c=P().fetchWeather;return Object(r.useEffect)((function(){t&&c(t,d.SET_WEATHER_CURRENT)}),[c,t]),a.a.createElement(_,null,a.a.createElement(_.Panel,null,a.a.createElement(it,{onClick:function(){return n.push("/")}},a.a.createElement(it.Icon,null,a.a.createElement(ce,{icon:N.a}),a.a.createElement(ne,{style:{marginLeft:"1rem"},size:"1.5rem",secondary:!0},"Back to home")))),a.a.createElement(_.Panel,null,a.a.createElement(Pe,{source:"query"})),a.a.createElement(_.Panel,null,a.a.createElement(Et,{cityData:t})),a.a.createElement(_.Panel,null,a.a.createElement(ht,null)))};var jt=function(){return a.a.createElement(i.a,{basename:"/dcs-weather-app/"},a.a.createElement(v.WeatherStateProvider,null,a.a.createElement(l.c,null,a.a.createElement(l.a,{exact:!0,path:"/",component:ft}),a.a.createElement(l.a,{path:"/details",component:Ot}))))};o.a.render(a.a.createElement(jt,null),document.getElementById("root"))},56:function(e,t,n){e.exports=n(106)},61:function(e,t,n){}},[[56,1,2]]]);
//# sourceMappingURL=main.f7175825.chunk.js.map