(this["webpackJsonpdcs-weather-app"]=this["webpackJsonpdcs-weather-app"]||[]).push([[0],{204:function(e,n,t){},240:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(87),o=t.n(c),i=t(88),l=t.n(i),u=(t(204),t(43)),s=t(6),m=t(16),f=t(21),d="FETCH_WEATHER",p="TOGGLE_FAVORITES",v={weather:{},favorites:[]},b=function(e,n){switch(n.type){case d:return Object(f.a)(Object(f.a)({},e),{},{weather:n.weather});case p:var t=n.weather.location.name,a=e.favorites.findIndex((function(e){return e.location.name===t}));if(-1===a){var r=[].concat(Object(m.a)(e.favorites),[n.weather]).sort((function(e,n){return e.location.name.localeCompare(n.location.name)}));return Object(f.a)(Object(f.a)({},e),{},{favorites:r})}return Object(f.a)(Object(f.a)({},e),{},{favorites:[].concat(Object(m.a)(e.favorites.slice(0,a)),Object(m.a)(e.favorites.slice(a+1)))});default:return e}},g=Object(a.createContext)(),E={WeatherStateContext:g,WeatherStateProvider:function(e){var n=e.children;return r.a.createElement(g.Provider,{value:Object(a.useReducer)(b,v)},n)}},y=t(1),h=t(2);function O(){var e=Object(y.a)(["\n  margin-bottom: 3rem;\n"]);return O=function(){return e},e}var j=h.a.div(O()),x=t(4),w=t(92),C=t.n(w),k=t(93),z=t.n(k),S=t(23),_=t(9),T=t(15),F=t.n(T),W=t(24),R=t(19),B=t.n(R);function I(){var e=Object(y.a)(["\n  cursor: pointer;\n  background-color: transparent;\n  border: none;\n\n  > span {\n    font-family: Raleway;\n    font-size: 1.5rem;\n    font-weight: 600;\n    text-decoration: underline;\n  }\n"]);return I=function(){return e},e}function P(){var e=Object(y.a)(["\n  background-color: transparent;\n  border: none;\n  margin-left: -3.5rem;\n  z-index: 10;\n  transition: all 0.2s ease-in-out;\n\n  &:active {\n    transform: translateY(5px);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return P=function(){return e},e}function G(){var e=Object(y.a)(["\n  & {\n    display: flex;\n\n    & .react-autosuggest {\n\n      &__container {\n        flex: 1;\n        position: relative;\n      }\n\n      &__input {\n        border: 2px solid var(--color-lightgrey);\n        font-family: 'Fredoka One', cursive;\n        font-size: 2.5rem;\n        letter-spacing: 2px;\n        padding: 1rem 4rem 1rem 1rem;\n        outline: none;\n        transition: all 0.2s ease-in-out;\n        width: 100%;\n\n        &::placeholder {\n          color: var(--color-lightgrey);\n        }\n\n        &:focus {\n          border: 2px solid var(--color-lightslategrey);\n\n          &::placeholder {\n            color: var(--color-lightslategrey);\n          }\n        }\n\n        &--open {\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      &__suggestions {\n        &-container {\n          display: none;\n        }\n\n        &-container--open {\n          display: block;\n          position: absolute;\n          top: 6rem;\n          width: 100%;\n          border: 2px solid var(--color-lightslategrey);\n          background-color: #fff;\n          font-family: Raleway;\n          font-weight: 400;\n          font-size: 1.6rem;\n          z-index: 10;\n        }\n\n        &-list {\n          margin: 0;\n          padding: 0;\n          list-style-type: none;\n        }\n      }\n\n      &__suggestion {\n        cursor: pointer;\n        padding: 1rem 2rem;\n\n        &--highlighted {\n          background-color: var(--color-lightslategrey);\n        }\n      }\n    }\n  }\n"]);return G=function(){return e},e}function H(){var e=Object(y.a)(["\n  margin: 0 auto;\n  max-width: 60rem;\n"]);return H=function(){return e},e}var M=h.a.div(H()),L=h.a.div(G()),q=h.a.button(P()),A=h.a.button(I());var D=function(){var e=Object(s.f)(),n=Object(a.useContext)(E.WeatherStateContext),t=Object(x.a)(n,2)[1],c=Object(a.useState)(""),o=Object(x.a)(c,2),i=o[0],l=o[1],u=function(){var e=Object(a.useState)({}),n=Object(x.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(x.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)({}),s=Object(x.a)(u,2),m=s[0],f=s[1];return{weather:t,isFetchingCurrent:i,fetchCurrent:Object(a.useCallback)(function(){var e=Object(W.a)(F.a.mark((function e(n){var t,a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:n},e.prev=1,l(!0),e.next=5,B.a.get("".concat("https://api.weatherstack.com","/current"),{params:t});case 5:a=e.sent,(c=a.data).error?f(c.error.info):r(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f(e.t0);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(n){return e.apply(this,arguments)}}(),[]),errorMessage:m}}(),m=u.weather,f=u.isFetchingCurrent,p=u.fetchCurrent,v=function(){var e=Object(a.useState)([]),n=Object(x.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(x.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)({}),s=Object(x.a)(u,2),m=s[0],f=s[1],d=Object(a.useCallback)(function(){var e=Object(W.a)(F.a.mark((function e(n){var t,a,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:n},e.prev=1,l(!0),e.next=5,B.a.get("".concat("https://api.weatherstack.com","/autocomplete"),{params:t});case 5:a=e.sent,(c=a.data).error?f(c.error.info):r(c.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f(e.t0);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(n){return e.apply(this,arguments)}}(),[]);return{results:t,setResults:r,isLookingUp:i,lookup:d,errorLookupMsg:m}}(),b=v.results,g=v.isLookingUp,y=v.lookup,h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(a.useState)(),t=Object(x.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)(),i=Object(x.a)(o,2),l=i[0],u=i[1],s=function(e){var n=e.coords,t=n.latitude,a=n.longitude;c("".concat(t,",").concat(a))},m=function(e){u(e)},f=Object(a.useCallback)((function(){var n=navigator.geolocation;n?n.getCurrentPosition(s,m,e):u("Geolocation is not supported.")}),[e]);return{position:r,getPosition:f,error:l}}(),O=h.position,j=h.getPosition,w=Object(a.useMemo)((function(){return C()(y,400)}),[y]);return Object(a.useEffect)((function(){t({type:d,weather:m})}),[m,t]),Object(a.useEffect)((function(){O&&e.push("/details")}),[O,e]),r.a.createElement(M,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target[0].value;""!==n&&p(n)}},r.a.createElement(L,null,r.a.createElement(z.a,{focusInputOnSuggestionClick:!1,inputProps:{placeholder:"Enter a city name",onChange:function(e,n){var t=n.newValue;l(t)},value:i},suggestions:b,onSuggestionsFetchRequested:function(e){var n=e.reason,t=e.value;"input-changed"===n?w(t):w.cancel()},onSuggestionsClearRequested:function(){},onSuggestionSelected:function(e,n){var t=n.suggestionValue;"click"===e.type&&p(t)},getSuggestionValue:function(e){return"".concat(e.name,", ").concat(e.region,", ").concat(e.country)},renderSuggestion:function(e){return r.a.createElement("span",null,"".concat(e.name,", ").concat(e.region,", ").concat(e.country))}}),r.a.createElement(q,null,r.a.createElement(S.a,{size:"2x",icon:g||f?_.c:_.b,spin:g||f})))),r.a.createElement("div",{style:{marginTop:"1rem",textAlign:"center"}},r.a.createElement(A,{onClick:function(){return j()}},r.a.createElement("span",null,"Or use my location"))))},N=t(29),V=t(94);function Y(){var e=Object(y.a)(["\n  font-family: Raleway;\n  font-size: 2.5rem;\n  margin: 1.5rem 0;\n"]);return Y=function(){return e},e}function J(){var e=Object(y.a)(["\n  font-size: 4rem;\n  margin: 1.5rem 0;\n"]);return J=function(){return e},e}function U(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return U=function(){return e},e}var Z=h.a.div(U()),K=h.a.h2(J()),Q=h.a.h4(Y());var X=function(e){var n=e.primaryText,t=e.secondaryText,a=e.extra;return r.a.createElement("div",{style:{flexBasis:"100%"}},r.a.createElement(Z,null,r.a.createElement(K,null,n),a),r.a.createElement(Q,null,t))};function $(){var e=Object(y.a)(["\n  align-self: center;\n"]);return $=function(){return e},e}var ee=h.a.span($());function ne(e){var n=e.onIconClick,t=e.icon;return r.a.createElement(ee,{onClick:n},r.a.createElement(S.a,{icon:t,size:"2x"}))}ne.defaultProps={onIconClick:function(){}};var te=ne;function ae(){var e=Object(y.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  @media screen and (min-width: 769px) {\n    flex-basis: 50%;\n  }\n\n  @media screen and (max-width: 768px) {\n    flex-basis: 100%;\n  }\n"]);return ae=function(){return e},e}var re=h.a.div(ae());function ce(){var e=Object(y.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return ce=function(){return e},e}var oe=h.a.div(ce());oe.MediaHeader=X,oe.MediaHeaderIcon=te,oe.MediaContent=re;var ie=oe;function le(){var e=Object(y.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  @media screen and (min-width: 769px) {\n    flex-basis: 50%;\n  }\n\n  @media screen and (max-width: 768px) {\n    flex-basis: 100%;\n  }\n"]);return le=function(){return e},e}var ue=h.a.div(le());function se(){var e=Object(y.a)(["\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return se=function(){return e},e}var me=h.a.span(se(),(function(e){return e.primary&&"font-family: 'Fredoka One'"}),(function(e){return e.secondary&&"font-family: 'Raleway'"}),(function(e){return e.weight&&"font-weight: ".concat(e.weight)}),(function(e){return e.size&&"font-size: ".concat(e.size)}));function fe(){var e=Object(y.a)(["\n  &&& {\n    cursor: 'pointer';\n    ",";\n  }\n"]);return fe=function(){return e},e}var de=Object(h.a)(S.a)(fe(),(function(e){return e.color&&"color: ".concat(e.color)}));function pe(){var e=Object(y.a)(["\n  display: inline-block;\n"]);return pe=function(){return e},e}function ve(){var e=Object(y.a)(["\n\n"]);return ve=function(){return e},e}function be(){var e=Object(y.a)([""]);return be=function(){return e},e}var ge=h.a.div(be()),Ee=h.a.div(ve()),ye=h.a.div(pe());ye.Group=Ee,ye.Content=ge;var he=ye;ie.MediaContent,ue.WeatherIcon,ue.WeatherTemp,ue.WeatherTile;var Oe=function(){var e=Object(a.useContext)(E.WeatherStateContext),n=Object(x.a)(e,2),t=n[0],c=t.weather,o=t.favorites,i=n[1],l=c.current,u=c.location;return 0===Object.keys(c).length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"2.5rem"}},r.a.createElement("div",null,r.a.createElement("h2",{style:{marginBottom:"1rem"}},r.a.createElement(me,{size:"3rem",primary:!0},"".concat(u.name,", ").concat(u.country))),r.a.createElement("p",null,r.a.createElement(me,{weight:"300",size:"2.5rem",secondary:!0},new Date(1e3*u.localtime_epoch).toDateString()))),r.a.createElement("span",{onClick:function(){return i({type:p,weather:c})}},r.a.createElement(de,{color:"orange",icon:-1!==o.findIndex((function(e){return e.location.name===u.name}))?_.d:N.b,size:"3x"}))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{display:"flex",flexBasis:"40%",justifyContent:"space-evenly"}},r.a.createElement("span",{style:{alignSelf:"flex-end"}},r.a.createElement("img",{style:{height:"12rem",width:"12rem"},alt:"weather icon",src:l.weather_icons[0]})),r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement(me,{size:"10rem",secondary:!0},l.temperature,"\xb0")),r.a.createElement("h4",null,r.a.createElement(me,{size:"2.5rem",weight:"400",secondary:!0},l.weather_descriptions[0])))),r.a.createElement(he.Group,{style:{display:"flex",flex:1,justifyContent:"space-between",textAlign:"center",alignItems:"center"}},r.a.createElement(he,null,r.a.createElement(me,{size:"2rem",weight:"300",primary:!0},"Wind Speed"),r.a.createElement(he.Content,null,r.a.createElement(me,{size:"2.5rem",secondary:!0},"".concat(l.wind_speed," km/h"))),r.a.createElement(de,{style:{marginTop:"1.5rem"},icon:_.g,size:"4x"})),r.a.createElement(he,null,r.a.createElement(me,{size:"2rem",weight:"300",primary:!0},"Wind Direction"),r.a.createElement(he.Content,null,r.a.createElement(me,{size:"2.5rem",secondary:!0},"".concat(l.wind_dir))),r.a.createElement(de,{style:{marginTop:"1.5rem"},icon:N.a,size:"4x"})),r.a.createElement(he,null,r.a.createElement(me,{size:"2rem",weight:"300",primary:!0},"Pressure"),r.a.createElement(he.Content,null,r.a.createElement(me,{size:"2.5rem",secondary:!0},"".concat(l.pressure," mb"))),r.a.createElement(de,{style:{marginTop:"1.5rem"},icon:V.a,size:"4x"})),r.a.createElement(he,null,r.a.createElement(me,{size:"2rem",weight:"300",primary:!0},"Humidity"),r.a.createElement(he.Content,null,r.a.createElement(me,{size:"2.5rem",secondary:!0},"".concat(l.humidity," %"))),r.a.createElement(de,{style:{marginTop:"1.5rem"},icon:_.f,size:"4x"})),r.a.createElement(he,null,r.a.createElement(me,{size:"2rem",weight:"300",primary:!0},"Cloud Cover"),r.a.createElement(he.Content,null,r.a.createElement(me,{size:"2.5rem",secondary:!0},"".concat(l.cloudcover," %"))),r.a.createElement(de,{style:{marginTop:"1.5rem"},icon:_.a,size:"4x"})),r.a.createElement(he,null,r.a.createElement(me,{size:"2rem",weight:"300",primary:!0},"Feels like"),r.a.createElement(he.Content,null,r.a.createElement(me,{size:"2.5rem",secondary:!0},"".concat(l.feelslike," ","\xb0","C"))),r.a.createElement(de,{style:{marginTop:"1.5rem"},icon:_.e,size:"4x"})))))};function je(){var e=Object(y.a)(["\n  display: grid;\n  grid-column-gap: 2rem;\n  grid-row-gap: 2rem;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr))\n"]);return je=function(){return e},e}var xe=h.a.div(je());function we(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return we=function(){return e},e}var Ce=h.a.header(we());var ke=function(e){var n=e.title,t=e.subtitle,a=e.children;return r.a.createElement(Ce,null,r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(me,{size:"2rem",primary:!0},n)),r.a.createElement("p",null,r.a.createElement(me,{size:"1.5rem",weight:"200",secondary:!0},t))),a)};function ze(){var e=Object(y.a)([""]);return ze=function(){return e},e}var Se=h.a.div(ze());function _e(){var e=Object(y.a)(["\n  background: #fff;\n  padding: 0 1rem;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0;\n  top: 100%;\n  transition: all 0.2s ease-out;\n"]);return _e=function(){return e},e}var Te=h.a.div(_e());function Fe(){var e=Object(y.a)(["\n  border: 1px solid grey;\n  padding: 1rem;\n  position: relative;\n  transition: all 0.2s ease-out;\n\n  &:hover {\n    border: 1px solid deepskyblue;\n    transform: translateY(-10px);\n    .overlay {\n      opacity: 0.8;\n      top: 40%;\n    }\n  }\n"]);return Fe=function(){return e},e}var We=h.a.div(Fe());We.Header=ke,We.Body=Se,We.Overlay=Te;var Re=We;function Be(){var e=Object(y.a)(["\n  background-color: #fff;\n  border: 1px solid slategray;\n  border-radius: 5rem;\n  font-size: 1.2rem;\n  padding: 5px 8px;\n  transition: all 0.2s ease-out;\n\n  &:hover {\n    border: 1px solid deepskyblue;\n    color: deepskyblue;\n  }\n\n  &:active {\n    transform: translateY(5px);\n  }\n"]);return Be=function(){return e},e}function Ie(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  justify-content: center;\n  height: 100%;\n\n  & > button:first-child {\n    margin-bottom: 5px;\n  }\n"]);return Ie=function(){return e},e}var Pe=h.a.div(Ie()),Ge=h.a.button(Be());Ge.Group=Pe;var He=Ge;var Me=function(){var e=Object(a.useContext)(E.WeatherStateContext),n=Object(x.a)(e,2),t=n[0].favorites,c=n[1],o=Object(s.f)();return 0===t.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginBottom:"2.5rem"}},r.a.createElement("h2",null,r.a.createElement(me,{size:"3rem",primary:!0},"Favorites (".concat(t.length,")")))),r.a.createElement(xe,null,t.map((function(e,n){var t=e.current,a=e.location;return r.a.createElement(Re,{key:n},r.a.createElement(Re.Header,{title:a.name,subtitle:a.region},r.a.createElement("span",{onClick:function(){return c({type:p,weather:e})}},r.a.createElement(de,{color:"orange",icon:_.d,size:"2x"}))),r.a.createElement(Re.Body,null,r.a.createElement("div",null,r.a.createElement(me,{size:"5rem",secondary:!0},t.temperature,"\xb0")),r.a.createElement("p",null,r.a.createElement(me,{size:"1.5rem",weight:"200",secondary:!0},t.weather_descriptions[0]))),r.a.createElement(Re.Overlay,{className:"overlay"},r.a.createElement(He.Group,null,r.a.createElement(He,{onClick:function(){return o.push("/details")}},"Learn more"))))}))))},Le=t(95);var qe=function(){var e=Object(a.useContext)(E.WeatherStateContext),n=Object(x.a)(e,2),t=n[0].favorites,c=n[1],o=function(){var e=Object(a.useState)([]),n=Object(x.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(x.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(),s=Object(x.a)(u,2),f=s[0],d=s[1],p=function(){var e=Object(W.a)(F.a.mark((function e(){var n,t,a,c,o,i,u;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("cities.json");case 2:return n=e.sent,t=n.data,a=t.reduce((function(e,n){return[].concat(Object(m.a)(e),[n.Name])}),[]).join(";"),c={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:a},e.prev=6,l(!0),e.next=10,B.a.get("".concat("https://api.weatherstack.com","/current"),{params:c});case 10:o=e.sent,i=o.data,u=i.sort((function(e,n){return e.location.name.localeCompare(n.location.name)})),r(u),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),d(e.t0);case 19:return e.prev=19,l(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,16,19,22]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useState)((function(){p()}),[]),{cities:t,setCities:r,isFetchingCities:i,errorCitiesMsg:f}}(),i=o.cities,l=o.setCities;return 0===i.length?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginBottom:"2.5rem"}},r.a.createElement("h2",null,r.a.createElement(me,{size:"3rem",primary:!0},"Top 15 cities by population (A-Z)"))),r.a.createElement(xe,null,function(){var e=function(){var e,n={},a=Object(Le.a)(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;n[r.location.name]=r.location.name}}catch(c){a.e(c)}finally{a.f()}return n}();return i.map((function(n,t){var a=n.current,o=n.location;return r.a.createElement(Re,{key:t},r.a.createElement(Re.Header,{title:o.name,subtitle:o.region},r.a.createElement("span",{onClick:function(){return c({type:p,weather:n})}},r.a.createElement(de,{color:"orange",icon:e[o.name]?_.d:N.b,size:"2x"}))),r.a.createElement(Re.Body,null,r.a.createElement("div",null,r.a.createElement(me,{size:"5rem",secondary:!0},a.temperature,"\xb0")),r.a.createElement("p",null,r.a.createElement(me,{size:"1.5rem",weight:"200",secondary:!0},a.weather_descriptions[0]))),r.a.createElement(Re.Overlay,{className:"overlay"},r.a.createElement(He.Group,null,r.a.createElement(He,null,"Learn more"),r.a.createElement(He,{onClick:function(){return e=t,void l([].concat(Object(m.a)(i.slice(0,e)),Object(m.a)(i.slice(e+1))));var e}},"Remove"))))}))}()))};function Ae(){var e=Object(y.a)(["\n  padding: 10rem 15rem;\n"]);return Ae=function(){return e},e}var De=h.a.div(Ae());var Ne=function(){return r.a.createElement(De,null,r.a.createElement(j,null,r.a.createElement("header",null,r.a.createElement(D,null))),r.a.createElement("main",null,r.a.createElement(j,null,r.a.createElement(Oe,null)),r.a.createElement(j,null,r.a.createElement(Me,null)),r.a.createElement(j,null,r.a.createElement(qe,null))))};var Ve=function(){return r.a.createElement(u.a,{basename:window.location.pathname||""},r.a.createElement(E.WeatherStateProvider,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:Ne}),r.a.createElement(s.a,{exact:!0,path:"/details",component:Oe}))))};l()(r.a,{onlyLogs:!0,titleColor:"green",diffNameColor:"darkturquoise"}),o.a.render(r.a.createElement(Ve,null),document.getElementById("root"))},96:function(e,n,t){e.exports=t(240)}},[[96,1,2]]]);
//# sourceMappingURL=main.d197a970.chunk.js.map