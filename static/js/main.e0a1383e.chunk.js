(this["webpackJsonpdcs-weather-app"]=this["webpackJsonpdcs-weather-app"]||[]).push([[0],{106:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(48),o=t.n(c),i=(t(61),t(18)),l=t(8),u=t(14),s=t(5),m="https://api.weatherstack.com",d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f={SEARCH_RESULT:"SEARCH_RESULT",SET_WEATHER_CURRENT:"SET_WEATHER_CURRENT",SET_WEATHER_FORECAST:"SET_WEATHER_FORECAST",ADD_CITIES:"ADD_CITIES",REMOVE_CITY:"REMOVE_CITY",TOGGLE_FAVORITES:"TOGGLE_FAVORITES",LOADING_CITIES:"LOADING_CITIES",LOADING_WEATHER:"LOADING_WEATHER",ADD_NOTE:"ADD_NOTE",REMOVE_NOTE:"REMOVE_NOTE",EDIT_NOTE:"EDIT_NOTE"},E={xxs:"320px",xs:"480",sm:"768px",md:"992px",lg:"1200px",xl:"1600px"},p={searchResult:{},weather:{},cities:[],favorites:[],notes:[],loadingCities:!1,loadingWeather:!1},b=function(e,n){switch(n.type){case f.SEARCH_RESULT:return Object(s.a)(Object(s.a)({},e),{},{searchResult:n.weather});case f.SET_WEATHER_CURRENT:return Object(s.a)(Object(s.a)({},e),{},{weather:n.weather});case f.ADD_CITIES:return Object(s.a)(Object(s.a)({},e),{},{cities:n.cities,error:n.error});case f.REMOVE_CITY:return Object(s.a)(Object(s.a)({},e),{},{cities:[].concat(Object(u.a)(e.cities.slice(0,n.cityIdx)),Object(u.a)(e.cities.slice(n.cityIdx+1)))});case f.TOGGLE_FAVORITES:var t=n.weather.location.name,r=e.favorites.findIndex((function(e){return e.location.name===t}));if(-1===r){var a=[].concat(Object(u.a)(e.favorites),[n.weather]).sort((function(e,n){return e.location.name.localeCompare(n.location.name)}));return Object(s.a)(Object(s.a)({},e),{},{favorites:a})}return Object(s.a)(Object(s.a)({},e),{},{favorites:[].concat(Object(u.a)(e.favorites.slice(0,r)),Object(u.a)(e.favorites.slice(r+1)))});case f.LOADING_CITIES:return Object(s.a)(Object(s.a)({},e),{},{loadingCities:n.loading});case f.LOADING_WEATHER:return Object(s.a)(Object(s.a)({},e),{},{loadingWeather:n.loading});case f.ADD_NOTE:return Object(s.a)(Object(s.a)({},e),{},{notes:[].concat(Object(u.a)(e.notes),[n.payload])});case f.REMOVE_NOTE:var c=e.notes.filter((function(e){return e.id!==n.payload.id}));return Object(s.a)(Object(s.a)({},e),{},{notes:c});case f.EDIT_NOTE:var o=e.notes.findIndex((function(e){return e.id===n.payload.id}));return Object(s.a)(Object(s.a)({},e),{},{notes:[].concat(Object(u.a)(e.notes.slice(0,o)),[Object(s.a)(Object(s.a)({},e.notes[o]),{},{note:n.payload.note,editedAt:n.payload.editedAt})],Object(u.a)(e.notes.slice(o+1)))});default:return e}},v=Object(r.createContext)(),g={WeatherStateContext:v,WeatherStateProvider:function(e){var n=e.children;return a.a.createElement(v.Provider,{value:Object(r.useReducer)(b,p)},n)}},y=t(1),O=t(2);function h(){var e=Object(y.a)(["\n  margin-bottom: 2.5rem;\n"]);return h=function(){return e},e}var j=O.b.div(h());function x(){var e=Object(y.a)(["\n      @media only screen and (min-device-width: ",") {\n        ",";\n      }\n    "]);return x=function(){return e},e}var w=Object.keys(E).reduce((function(e,n){return e[n]=function(){return Object(O.a)(x(),E[n],O.a.apply(void 0,arguments))},e}),{});function S(){var e=Object(y.a)(["padding: 0 20rem;"]);return S=function(){return e},e}function z(){var e=Object(y.a)(["padding: 0 2rem;"]);return z=function(){return e},e}function C(){var e=Object(y.a)(["padding: 0 1rem;"]);return C=function(){return e},e}function T(){var e=Object(y.a)(["\n  margin-top: 1.5rem;\n\n  ","\n  ","\n  ","\n"]);return T=function(){return e},e}var k=O.b.div(T(),w.xxs(C()),w.sm(z()),w.lg(S()));k.Panel=j;var _=k,I=t(4),A=t(52),R=t.n(A),D=t(53),L=t.n(D),N=t(25),W=t(6),G=t(13),H=t.n(G),F=t(16),B=t(15),P=t.n(B);function M(){var e=Object(r.useContext)(g.WeatherStateContext),n=Object(I.a)(e,2)[1],t=Object(r.useState)({}),a=Object(I.a)(t,2),c=a[0],o=a[1];return{fetchWeather:Object(r.useCallback)(function(){var e=Object(F.a)(H.a.mark((function e(t,r){var a,c,i,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:t},e.prev=1,n({type:f.LOADING_WEATHER,loading:!0}),e.next=5,P.a.get("".concat(m,"/current"),{params:a});case 5:c=e.sent,i=c.data,n({type:f.LOADING_WEATHER,loading:!1}),i.error?o(i.error.info):("SEARCH_RESULT"===f[r]?window.localStorage.setItem("storedSearch",JSON.stringify(i)):window.localStorage.setItem("storedWeather",JSON.stringify(i)),n({type:f[r],weather:i})),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),l=window.localStorage.getItem("storedWeather"),n({type:f.LOADING_WEATHER,loading:!1}),n({type:f[r],weather:JSON.parse(l)}),o(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n,t){return e.apply(this,arguments)}}(),[n]),errorMessage:c}}function V(){var e=Object(y.a)(["\n  background-color: #fffaf3;\n  box-shadow: 0 0 0 1px #c9ba9b inset, 0 0 0 0 transparent;\n  display: none;\n  color: #573a08;\n  padding: 1.6rem;\n  position: fixed;\n  top: 3%;\n  right: 2%;\n  width: 35rem;\n  width: 35rem;\n\n  ","\n"]);return V=function(){return e},e}var U=O.b.div(V(),(function(e){return e.show&&"display: flex;"}));function q(){var e=Object(y.a)(["font-size: 2.4rem;"]);return q=function(){return e},e}function J(){var e=Object(y.a)(["font-size: 2rem;"]);return J=function(){return e},e}function Y(){var e=Object(y.a)(["font-size: 1.8rem;"]);return Y=function(){return e},e}function Z(){var e=Object(y.a)(["font-size: 1.6rem;"]);return Z=function(){return e},e}function K(){var e=Object(y.a)(["font-size: 1.4rem;"]);return K=function(){return e},e}function Q(){var e=Object(y.a)(["font-size: 2.2rem;"]);return Q=function(){return e},e}function X(){var e=Object(y.a)(["font-size: 2rem;"]);return X=function(){return e},e}function $(){var e=Object(y.a)(["font-size: 1.6rem;"]);return $=function(){return e},e}function ee(){var e=Object(y.a)(["font-size: 1.4rem;"]);return ee=function(){return e},e}function ne(){var e=Object(y.a)(["font-size: 1.2rem;"]);return ne=function(){return e},e}function te(){var e=Object(y.a)(["\n  ",";\n  ",";\n  ",";\n  ",";\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return te=function(){return e},e}var re=O.b.span(te(),(function(e){return e.primary&&"font-family: 'Fredoka One'"}),(function(e){return e.secondary&&"font-family: 'Raleway'"}),(function(e){return e.weight&&"font-weight: ".concat(e.weight)}),(function(e){return e.size&&"font-size: ".concat(e.size)}),(function(e){return!e.size&&e.primary&&w.xxs(ne())}),(function(e){return!e.size&&e.primary&&w.xs(ee())}),(function(e){return!e.size&&e.primary&&w.sm($())}),(function(e){return!e.size&&e.primary&&w.md(X())}),(function(e){return!e.size&&e.primary&&w.lg(Q())}),(function(e){return!e.size&&e.secondary&&w.xxs(K())}),(function(e){return!e.size&&e.secondary&&w.xs(Z())}),(function(e){return!e.size&&e.secondary&&w.sm(Y())}),(function(e){return!e.size&&e.secondary&&w.md(J())}),(function(e){return!e.size&&e.secondary&&w.lg(q())}));function ae(){var e=Object(y.a)(["\n  display: inline-block;\n\n  ",";\n  ",";\n"]);return ae=function(){return e},e}var ce=O.b.span(ae(),(function(e){return e.color&&"color: ".concat(e.color)}),(function(e){return e.hover&&"cursor: pointer"}));var oe=function(e){var n=e.color,t=e.icon,r=e.size,c=e.onIconClick,o=e.hover,i=e.spin;return a.a.createElement(ce,{color:n,onClick:c,hover:o},a.a.createElement(N.a,{icon:t,size:r,spin:i}))};function ie(){var e=Object(y.a)(["\n  cursor: pointer;\n  background-color: transparent;\n  border: none;\n\n  > span {\n    font-family: Raleway;\n    font-size: 1.5rem;\n    font-weight: 600;\n    text-decoration: underline;\n  }\n"]);return ie=function(){return e},e}function le(){var e=Object(y.a)(["\n  background-color: transparent;\n  border: none;\n  margin-left: -3.5rem;\n  z-index: 10;\n  transition: all 0.2s ease-in-out;\n\n  &:active {\n    transform: translateY(5px);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return le=function(){return e},e}function ue(){var e=Object(y.a)(["\n  & {\n    display: flex;\n\n    & .react-autosuggest {\n      &__container {\n        flex: 1;\n        position: relative;\n      }\n\n      &__input {\n        border: 2px solid var(--color-lightgrey);\n        font-family: 'Fredoka One', cursive;\n        font-size: 2.5rem;\n        letter-spacing: 2px;\n        padding: 1rem 4rem 1rem 1rem;\n        outline: none;\n        transition: all 0.2s ease-in-out;\n        width: 100%;\n\n        &::placeholder {\n          color: var(--color-lightgrey);\n        }\n\n        &:focus {\n          border: 2px solid var(--color-lightslategrey);\n\n          &::placeholder {\n            color: var(--color-lightslategrey);\n          }\n        }\n\n        &--open {\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      &__suggestions {\n        &-container {\n          display: none;\n        }\n\n        &-container--open {\n          display: block;\n          position: absolute;\n          top: 6rem;\n          width: 100%;\n          border: 2px solid var(--color-lightslategrey);\n          background-color: #fff;\n          font-family: Raleway;\n          font-weight: 400;\n          font-size: 1.6rem;\n          z-index: 10;\n        }\n\n        &-list {\n          margin: 0;\n          padding: 0;\n          list-style-type: none;\n        }\n      }\n\n      &__suggestion {\n        cursor: pointer;\n        padding: 1rem 2rem;\n\n        &--highlighted {\n          background-color: var(--color-lightslategrey);\n        }\n      }\n    }\n  }\n"]);return ue=function(){return e},e}function se(){var e=Object(y.a)(["\n  margin: 0 auto;\n  max-width: 60rem;\n"]);return se=function(){return e},e}var me=O.b.div(se()),de=O.b.div(ue()),fe=O.b.button(le()),Ee=O.b.button(ie());var pe=function(){var e=Object(r.useState)(""),n=Object(I.a)(e,2),t=n[0],c=n[1],o=Object(l.f)(),i=M(),u=i.fetchWeather,s=i.isLoadingWeather,d=function(){var e=Object(r.useState)([]),n=Object(I.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(!1),o=Object(I.a)(c,2),i=o[0],l=o[1],u=Object(r.useState)(null),s=Object(I.a)(u,2),d=s[0],f=s[1],E=Object(r.useCallback)(function(){var e=Object(F.a)(H.a.mark((function e(n){var t,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:n},e.prev=1,l(!0),e.next=5,P.a.get("".concat(m,"/autocomplete"),{params:t});case 5:r=e.sent,(c=r.data).error?f(c.error.info):(f(null),a(c.results)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f(e.t0);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(n){return e.apply(this,arguments)}}(),[]);return{results:t,setResults:a,isLookingUp:i,lookup:E,errorLookupMsg:d,setErrorLookupMsg:f}}(),E=d.results,p=d.isLookingUp,b=d.lookup,v=d.errorLookupMsg,g=d.setErrorLookupMsg,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(r.useState)(),t=Object(I.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)(),i=Object(I.a)(o,2),l=i[0],u=i[1],s=Object(r.useState)(!1),m=Object(I.a)(s,2),d=m[0],f=m[1],E=function(e){var n=e.coords,t=n.latitude,r=n.longitude;c("".concat(t,",").concat(r)),f(!1)},p=function(e){u(e),f(!1)},b=Object(r.useCallback)((function(){var n=navigator.geolocation;if(f(!0),!n)return f(!1),void u("Geolocation is not supported.");n.getCurrentPosition(E,p,e)}),[e]);return{isLoadingPosition:d,position:a,getPosition:b,error:l}}(),O=y.isLoadingPosition,h=y.position,j=y.getPosition,x=Object(r.useMemo)((function(){return R()(b,400)}),[b]);return Object(r.useEffect)((function(){h&&!O&&o.push("/details",{query:h})}),[h,o,t,O]),a.a.createElement(me,null,a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target[0].value.split(";")[0];""!==n&&u(n,f.SEARCH_RESULT)}},a.a.createElement(de,null,a.a.createElement(L.a,{focusInputOnSuggestionClick:!1,inputProps:{placeholder:"Enter a city name",onChange:function(e,n){var t=n.newValue;c(t)},value:t},suggestions:E,onSuggestionsFetchRequested:function(e){var n=e.reason,t=e.value;"input-changed"===n?x(t):x.cancel()},onSuggestionsClearRequested:function(){},onSuggestionSelected:function(e,n){var t=n.suggestionValue;"click"===e.type&&u(t,f.SEARCH_RESULT)},getSuggestionValue:function(e){return"".concat(e.name,", ").concat(e.region,", ").concat(e.country)},renderSuggestion:function(e){return a.a.createElement("span",null,"".concat(e.name,", ").concat(e.region,", ").concat(e.country))}}),a.a.createElement(fe,null,a.a.createElement(N.a,{size:"2x",icon:p||s||O?W.e:W.d,spin:p||s||O})),a.a.createElement(U,{show:v},a.a.createElement(re,{size:"1.5rem",secondary:!0},v),a.a.createElement("span",{onClick:function(){return g(null)}},a.a.createElement(oe,{size:"2x",icon:W.h}))))),a.a.createElement("div",{style:{marginTop:"1rem",textAlign:"center"}},a.a.createElement(Ee,{onClick:function(){return j()}},a.a.createElement("span",null,"Or use my location"))))},be=t(9),ve=t(54);function ge(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  text-align: center;\n  align-items: center;\n"]);return ge=function(){return e},e}var ye=O.b.div(ge());function Oe(){var e=Object(y.a)(["\n  margin-bottom: 1.5rem;\n"]);return Oe=function(){return e},e}var he=O.b.div(Oe());function je(){var e=Object(y.a)(["\n  display: inline-block;\n"]);return je=function(){return e},e}var xe=O.b.div(je());xe.Group=ye,xe.Body=he;var we=xe;function Se(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 14.25rem;\n\n  & span {\n    color: lightgrey;\n  }\n"]);return Se=function(){return e},e}var ze=O.b.div(Se());var Ce=function(e){var n=e.text,t=e.size,r=e.icon,c=e.spin;return a.a.createElement(ze,null,a.a.createElement(oe,{icon:r,size:t,spin:c}),a.a.createElement(re,{size:"2rem",secondary:!0},n))};function Te(){var e=Object(y.a)(["\n  align-self: flex-end;\n\n  & > img {\n    border-radius: 10rem;\n    height: 12rem;\n    width: 12rem;\n  }\n"]);return Te=function(){return e},e}function ke(){var e=Object(y.a)(["\n  flex: 1;\n"]);return ke=function(){return e},e}function _e(){var e=Object(y.a)(["\n    margin-bottom: 0;\n  "]);return _e=function(){return e},e}function Ie(){var e=Object(y.a)(["\n    margin-bottom: 2rem;\n  "]);return Ie=function(){return e},e}function Ae(){var e=Object(y.a)(["\n  display: flex;\n  flex-basis: 40%;\n  justify-content: space-evenly;\n\n  ","\n\n  ","\n"]);return Ae=function(){return e},e}function Re(){var e=Object(y.a)(["\n    display: flex;\n  "]);return Re=function(){return e},e}function De(){var e=Object(y.a)(["\n    display: block;\n  "]);return De=function(){return e},e}function Le(){var e=Object(y.a)(["\n  ","\n\n  ","\n"]);return Le=function(){return e},e}function Ne(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 2.5rem;\n\n  h2 {\n    margin-bottom: 1rem;\n  }\n"]);return Ne=function(){return e},e}var We=O.b.header(Ne()),Ge=O.b.div(Le(),w.xxs(De()),w.xl(Re())),He=O.b.div(Ae(),w.xxs(Ie()),w.xl(_e())),Fe=O.b.div(ke()),Be=O.b.span(Te());var Pe=function(e){var n=e.weather,t=e.favorites,r=e.onToggleFavorites,c=e.loading,o=n.current,i=n.location;return c?a.a.createElement(Ce,{size:"6x",text:c?"Loading weather...":"Weather information",icon:c?W.e:be.e,spin:c}):0===Object.keys(n).length?null:a.a.createElement(a.a.Fragment,null,a.a.createElement(We,null,a.a.createElement("div",null,a.a.createElement("h2",{style:{display:"inline-block"}},a.a.createElement(re,{size:"2.4rem",primary:!0},"".concat(i.name,", ").concat(i.country))),a.a.createElement("p",null,a.a.createElement(re,{size:"2rem",weight:"300",secondary:!0},new Date(1e3*i.localtime_epoch).toDateString()))),a.a.createElement(oe,{hover:!0,color:"orange",size:"3x",icon:-1!==t.findIndex((function(e){return e.location.name===i.name}))?W.f:be.d,onIconClick:r})),a.a.createElement(Ge,null,a.a.createElement(He,null,a.a.createElement(Be,null,a.a.createElement("img",{alt:"weather icon",src:o.weather_icons[0]})),a.a.createElement("div",null,a.a.createElement("h3",null,a.a.createElement(re,{size:"10rem",secondary:!0},o.temperature,"\xb0")),a.a.createElement("h4",null,a.a.createElement(re,{size:"2.5rem",weight:"400",secondary:!0},o.weather_descriptions[0])))),a.a.createElement(Fe,null,a.a.createElement(we.Group,{style:{height:"100%"}},a.a.createElement(we,null,a.a.createElement(re,{weight:"300",primary:!0},"Wind Speed"),a.a.createElement(we.Body,null,a.a.createElement(re,{secondary:!0},"".concat(o.wind_speed," km/h"))),a.a.createElement(oe,{icon:W.k,size:"4x"})),a.a.createElement(we,null,a.a.createElement(re,{weight:"300",primary:!0},"Wind Direction"),a.a.createElement(we.Body,null,a.a.createElement(re,{secondary:!0},"".concat(o.wind_dir))),a.a.createElement(oe,{icon:be.a,size:"4x"})),a.a.createElement(we,null,a.a.createElement(re,{weight:"300",primary:!0},"Pressure"),a.a.createElement(we.Body,null,a.a.createElement(re,{secondary:!0},"".concat(o.pressure," mb"))),a.a.createElement(oe,{icon:ve.a,size:"4x"})),a.a.createElement(we,null,a.a.createElement(re,{weight:"300",primary:!0},"Humidity"),a.a.createElement(we.Body,null,a.a.createElement(re,{secondary:!0},"".concat(o.humidity," %"))),a.a.createElement(oe,{icon:W.j,size:"4x"})),a.a.createElement(we,null,a.a.createElement(re,{weight:"300",primary:!0},"Cloud Cover"),a.a.createElement(we.Body,null,a.a.createElement(re,{secondary:!0},"".concat(o.cloudcover," %"))),a.a.createElement(oe,{icon:W.b,size:"4x"})),a.a.createElement(we,null,a.a.createElement(re,{weight:"300",primary:!0},"Feels like"),a.a.createElement(we.Body,null,a.a.createElement(re,{secondary:!0},"".concat(o.feelslike," ","\xb0","C"))),a.a.createElement(oe,{icon:W.g,size:"4x"}))))))};var Me=function(e){var n=e.source,t=Object(r.useContext)(g.WeatherStateContext),c=Object(I.a)(t,2),o=c[0],i=o.loadingWeather,l=o.searchResult,u=o.favorites,s=o.weather,m=c[1];return a.a.createElement(Pe,{loading:i,weather:"search"===n?l:s,favorites:u,onToggleFavorites:function(){return m({type:f.TOGGLE_FAVORITES,weather:"search"===n?l:s})}})};function Ve(){var e=Object(y.a)(["\n  display: grid;\n  grid-column-gap: 2rem;\n  grid-row-gap: 2rem;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n"]);return Ve=function(){return e},e}var Ue=O.b.div(Ve());function qe(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return qe=function(){return e},e}var Je=O.b.header(qe());var Ye=function(e){var n=e.title,t=e.subtitle,r=e.children;return a.a.createElement(Je,null,a.a.createElement("div",null,a.a.createElement("h2",null,a.a.createElement(re,{size:"2rem",primary:!0},n)),a.a.createElement("p",{style:{minHeight:"1.8rem"}},a.a.createElement(re,{size:"1.5rem",weight:"200",secondary:!0},t))),r)};function Ze(){var e=Object(y.a)([""]);return Ze=function(){return e},e}var Ke=O.b.div(Ze());function Qe(){var e=Object(y.a)(["\n  background: #fff;\n  padding: 0 1rem;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0;\n  top: 100%;\n  transition: all 0.2s ease-out;\n"]);return Qe=function(){return e},e}var Xe=O.b.div(Qe());function $e(){var e=Object(y.a)(["\n  border: 1px solid grey;\n  padding: 1rem;\n  position: relative;\n  transition: all 0.2s ease-out;\n\n  ","\n"]);return $e=function(){return e},e}var en=O.b.div($e(),(function(e){return e.hover&&"&:hover {\n    border: 1px solid deepskyblue;\n    transform: translateY(-10px);\n    .overlay {\n      opacity: 0.8;\n      top: 33%;\n    }\n  }"}));en.Header=Ye,en.Body=Ke,en.Overlay=Xe;var nn=en;function tn(){var e=Object(y.a)(["\n  background-color: #fff;\n  border: 1px solid slategray;\n  border-radius: 5rem;\n  font-size: 1.2rem;\n  padding: 5px 8px;\n  transition: all 0.2s ease-out;\n\n  &:hover {\n    cursor: pointer;\n    border: 1px solid deepskyblue;\n    color: deepskyblue;\n  }\n\n  &:active {\n    transform: translateY(5px);\n  }\n"]);return tn=function(){return e},e}function rn(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  justify-content: center;\n  height: 100%;\n\n  & > button:first-child {\n    margin-bottom: 5px;\n  }\n"]);return rn=function(){return e},e}function an(){var e=Object(y.a)(["\n  display: flex;\n  align-items: center;\n"]);return an=function(){return e},e}var cn=O.b.div(an()),on=O.b.div(rn()),ln=O.b.button(tn());ln.Group=on,ln.Icon=cn;var un=ln;function sn(){var e=Object(y.a)(["\n  margin-bottom: 2.5rem;\n"]);return sn=function(){return e},e}var mn=O.b.header(sn());var dn=function(){var e=Object(r.useContext)(g.WeatherStateContext),n=Object(I.a)(e,2),t=n[0].favorites,c=n[1],o=Object(l.f)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(mn,null,a.a.createElement("h2",null,a.a.createElement(re,{size:"2.5rem",weight:"600",secondary:!0},"Favorites (".concat(t.length,")")))),0===t.length?a.a.createElement(Ce,{size:"6x",text:"No favorites",icon:be.b}):a.a.createElement(Ue,{style:{minHeight:"14.25rem"}},t.map((function(e,n){var t=e.current,r=e.location;return a.a.createElement(nn,{key:n,hover:!0},a.a.createElement(nn.Header,{title:r.name,subtitle:r.region},a.a.createElement(oe,{hover:!0,color:"orange",size:"2x",icon:W.f,onIconClick:function(){return c({type:f.TOGGLE_FAVORITES,weather:e})}})),a.a.createElement(nn.Body,null,a.a.createElement("div",null,a.a.createElement(re,{size:"5rem",secondary:!0},t.temperature,"\xb0")),a.a.createElement("p",{style:{minHeight:"3.7rem"}},a.a.createElement(re,{size:"1.5rem",weight:"200",secondary:!0},t.weather_descriptions[0]))),a.a.createElement(nn.Overlay,{className:"overlay"},a.a.createElement(un.Group,null,a.a.createElement(un,{onClick:function(){return o.push("/details",{weather:e,query:r.name})}},"Learn more"))))}))))},fn=t(28);var En=function(){var e=Object(r.useContext)(g.WeatherStateContext),n=Object(I.a)(e,2),t=n[0],c=t.cities,o=t.loadingCities,i=t.favorites,d=n[1],E=Object(l.f)(),p=function(){var e=Object(r.useContext)(g.WeatherStateContext),n=Object(I.a)(e,2)[1],t=Object(r.useState)(),a=Object(I.a)(t,2),c=a[0],o=a[1];return{fetchCities:Object(r.useCallback)(Object(F.a)(H.a.mark((function e(){var t,r,a,c,i,l,d,E,p,b,v,g,y;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.get("cities.json");case 2:t=e.sent,r=t.data,a={},c=Object(fn.a)(r);try{for(c.s();!(i=c.n()).done;)l=i.value,a[l.Name]={population:l.Population,rank:l.rank}}catch(O){c.e(O)}finally{c.f()}return d=r.reduce((function(e,n){return[].concat(Object(u.a)(e),[n.Name])}),[]).join(";"),E={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:d},e.prev=9,n({type:f.LOADING_CITIES,loading:!0}),e.next=13,P.a.get("".concat(m,"/current"),{params:E});case 13:p=e.sent,b=p.data,v=b.sort((function(e,n){return e.location.name.localeCompare(n.location.name)})),g=v.map((function(e,n){return Object(s.a)(Object(s.a)({},e),{},{population:a[e.location.name].population,rank:a[e.location.name].rank})})),window.localStorage.setItem("storedCities",JSON.stringify(g)),n({type:f.LOADING_CITIES,loading:!1}),n({type:f.ADD_CITIES,cities:g}),e.next=28;break;case 22:e.prev=22,e.t0=e.catch(9),y=window.localStorage.getItem("storedCities"),n({type:f.LOADING_CITIES,loading:!1}),n({type:f.ADD_CITIES,cities:JSON.parse(y)}),o(e.t0);case 28:case"end":return e.stop()}}),e,null,[[9,22]])}))),[n]),errorCitiesMsg:c}}().fetchCities;return Object(r.useEffect)((function(){0===c.length&&p()}),[c,p]),a.a.createElement(a.a.Fragment,null,a.a.createElement(mn,null,a.a.createElement("h2",null,a.a.createElement(re,{size:"2.5rem",weight:"600",secondary:!0},"Top 15 cities by population (A-Z)"))),o?a.a.createElement(Ce,{size:"6x",text:o?"Loading cities...":"No cities found",icon:o?W.e:be.b,spin:o}):a.a.createElement(Ue,null,function(){var e=function(){var e,n={},t=Object(fn.a)(i);try{for(t.s();!(e=t.n()).done;){var r=e.value;n[r.location.name]=r.location.name}}catch(a){t.e(a)}finally{t.f()}return n}(),n=/\B(?=(\d{3})+(?!\d))/g;return c.map((function(t,r){var c=t.current,o=t.location,i=t.population,l=t.rank;return a.a.createElement(nn,{key:r,hover:!0},a.a.createElement(nn.Header,{title:o.name,subtitle:o.region},a.a.createElement(oe,{hover:!0,color:"orange",size:"2x",icon:e[o.name]?W.f:be.d,onIconClick:function(){return d({type:f.TOGGLE_FAVORITES,weather:t})}})),a.a.createElement(nn.Body,null,a.a.createElement("div",null,a.a.createElement(re,{size:"5rem",secondary:!0},c.temperature,"\xb0")),a.a.createElement("p",{style:{minHeight:"3.7rem"}},a.a.createElement(re,{size:"1.5rem",weight:"200",secondary:!0},c.weather_descriptions[0]))),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(re,{weight:"600",size:"1.4rem",secondary:!0},"Rank: ",l)),a.a.createElement("div",null,a.a.createElement(re,{weight:"600",size:"1.4rem",secondary:!0},"Population: ",i.toString().replace(n,",")))),a.a.createElement(nn.Overlay,{className:"overlay"},a.a.createElement(un.Group,null,a.a.createElement(un,{onClick:function(){return E.push("/details",{weather:t,query:o.name})}},"Learn more"),a.a.createElement(un,{onClick:function(){d({type:f.REMOVE_CITY,cityIdx:r})}},"Remove"))))}))}()))};var pn=function(){return a.a.createElement(_,null,a.a.createElement(_.Panel,null,a.a.createElement("header",null,a.a.createElement("h1",{style:{textAlign:"center",marginBottom:"1.5rem"}},a.a.createElement(re,{size:"3.5rem",primary:!0},"Weather App")),a.a.createElement(pe,null))),a.a.createElement("main",null,a.a.createElement(_.Panel,null,a.a.createElement(Me,{source:"search"})),a.a.createElement(_.Panel,null,a.a.createElement(dn,null)),a.a.createElement(_.Panel,null,a.a.createElement(En,null))))};var bn=function(e){var n=function(e){var n=Object(r.useState)({}),t=Object(I.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)(!1),i=Object(I.a)(o,2),l=i[0],u=i[1],s=Object(r.useState)(""),d=Object(I.a)(s,2),f=d[0],E=d[1],p=Object(r.useCallback)(Object(F.a)(H.a.mark((function n(){var t,r,a,o;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",forecast_days:7,query:e},n.prev=1,u(!0),n.next=5,P.a.get("".concat(m,"/forecast"),{params:t});case 5:r=n.sent,a=r.data,window.localStorage.setItem("storedForecast",JSON.stringify(a.forecast)),u(!1),c(a.forecast),n.next=18;break;case 12:n.prev=12,n.t0=n.catch(1),o=window.localStorage.getItem("storedForecast"),u(!1),c(JSON.parse(o)),E(n.t0);case 18:case"end":return n.stop()}}),n,null,[[1,12]])}))),[e]);return Object(r.useEffect)((function(){p(e)}),[p,e]),{fetchData:p,forecast:a,isLoadingForecoast:l,errorForecastMsg:f}}(e.cityData),t=n.forecast,c=n.isLoadingForecoast;return a.a.createElement(a.a.Fragment,null,a.a.createElement(mn,null,a.a.createElement("h2",null,a.a.createElement(re,{size:"2.5rem",weight:"600",secondary:!0},"7-day Forecast"))),0===Object.keys(t).length?a.a.createElement(Ce,{size:"6x",text:c?"Loading forecast...":"No forecast",icon:c?W.e:be.b,spin:c}):a.a.createElement(Ue,{style:{minHeight:"14.25rem"}},function(){var e=[];for(var n in t){var r=new Date(t[n].date).getDay();e.push(a.a.createElement(nn,{key:n},a.a.createElement(nn.Header,{title:d[r]}),a.a.createElement(nn.Body,{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"}},a.a.createElement("div",{style:{flex:1}},a.a.createElement(re,{size:"5rem",secondary:!0},t[n].avgtemp,"\xb0")),a.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},a.a.createElement("div",null,a.a.createElement(re,{size:"1.5rem",primary:!0},"max:\xa0"),a.a.createElement(re,{size:"1.8rem",secondary:!0},t[n].maxtemp,"\xb0")),a.a.createElement("div",null,a.a.createElement(re,{size:"1.5rem",primary:!0},"min:\xa0"),a.a.createElement(re,{size:"1.8rem",secondary:!0},t[n].mintemp,"\xb0")))),a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},a.a.createElement(oe,{icon:be.e,size:"2x"}),a.a.createElement(re,{size:"1.3rem",secondary:!0},t[n].astro.sunrise),a.a.createElement(oe,{icon:be.c,size:"2x"}),a.a.createElement(re,{size:"1.3rem",secondary:!0},t[n].astro.moonrise))))}return e}()))},vn=t(55),gn=t.n(vn);var yn=function(e){var n=e.value,t=e.onBlur,c=Object(r.useState)(n||""),o=Object(I.a)(c,2),i=o[0],l=o[1];return a.a.createElement("textarea",{style:{resize:"none",width:"100%"},rows:"5",value:i,onChange:function(e){return l(e.target.value)},onBlur:function(){return t(i)},autoFocus:!0})};function On(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return On=function(){return e},e}var hn=Object(O.b)(mn)(On());var jn=function(){var e=Object(r.useContext)(g.WeatherStateContext),n=Object(I.a)(e,2),t=n[0],c=t.weather,o=t.notes,i=t.loadingWeather,l=n[1],u=function(e){return e.map((function(e,n){return a.a.createElement(nn,{key:"".concat(e.name,"-").concat(n)},a.a.createElement(nn.Header,{title:e.dateCreated},a.a.createElement(oe,{hover:!0,size:"2x",icon:W.i,onIconClick:function(){return l({type:f.REMOVE_NOTE,payload:{id:e.id}})}})),a.a.createElement(nn.Body,{style:{marginBottom:"1rem",marginTop:"1rem"}},a.a.createElement(yn,{value:e.note,onBlur:function(n){""!==n&&n!==e.note&&l({type:f.EDIT_NOTE,payload:{id:e.id,note:n,editedAt:(new Date).toLocaleTimeString()}})}})),a.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},a.a.createElement("div",null,a.a.createElement(re,{size:"1.5rem",weight:"600",secondary:!0},"Created at:"," "),a.a.createElement(re,{size:"1.5rem",secondary:!0},e.createdAt)),e.editedAt&&a.a.createElement("div",null,a.a.createElement(re,{size:"1.5rem",weight:"600",secondary:!0},"Edited at:"," "),a.a.createElement(re,{size:"1.5rem",secondary:!0},e.editedAt))))}))};return a.a.createElement(a.a.Fragment,null,a.a.createElement(hn,null,a.a.createElement("h2",null,a.a.createElement(re,{size:"2.5rem",weight:"600",secondary:!0},"Notes")),a.a.createElement(oe,{onIconClick:function(){l({type:f.ADD_NOTE,payload:{name:c.location.name,id:gn()("".concat(c.location.name,"_")),dateCreated:(new Date).toLocaleDateString(),createdAt:(new Date).toLocaleTimeString()}})},size:"3x",icon:W.c,hover:!0})),i?a.a.createElement(Ce,{size:"6x",text:i?"Loading notes...":"Add some notes here",icon:i?W.e:be.b,spin:i}):function(){var e=c.location,n=o.filter((function(n){return n.name===e.name}));return 0===n.length?a.a.createElement(Ce,{size:"6x",text:"Add some notes here'",icon:be.b}):a.a.createElement(Ue,null,u(n))}())};var xn=function(e){var n=e.history.location.state.query,t=Object(l.f)(),c=M().fetchWeather;return Object(r.useEffect)((function(){n&&c(n,f.SET_WEATHER_CURRENT)}),[c,n]),a.a.createElement(_,null,a.a.createElement(_.Panel,null,a.a.createElement(un,{onClick:function(){return t.push("/")}},a.a.createElement(un.Icon,null,a.a.createElement(oe,{icon:W.a}),a.a.createElement(re,{style:{marginLeft:"1rem"},size:"1.5rem",secondary:!0},"Back to home")))),a.a.createElement(_.Panel,null,a.a.createElement(Me,{source:"query"})),a.a.createElement(_.Panel,null,a.a.createElement(bn,{cityData:n})),a.a.createElement(_.Panel,null,a.a.createElement(jn,null)))};var wn=function(){return a.a.createElement(i.a,{basename:"/dcs-weather-app/"},a.a.createElement(g.WeatherStateProvider,null,a.a.createElement(l.c,null,a.a.createElement(l.a,{exact:!0,path:"/",component:pn}),a.a.createElement(l.a,{path:"/details",component:xn}))))};o.a.render(a.a.createElement(wn,null),document.getElementById("root"))},56:function(e,n,t){e.exports=t(106)},61:function(e,n,t){}},[[56,1,2]]]);
//# sourceMappingURL=main.e0a1383e.chunk.js.map