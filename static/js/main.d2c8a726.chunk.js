(this["webpackJsonpdcs-weather-app"]=this["webpackJsonpdcs-weather-app"]||[]).push([[0],{202:function(e,n,t){},238:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(84),o=t.n(c),i=t(85),u=t.n(i),l=(t(202),t(93)),s=t(3),f=t(92),d=t(22),m="FETCH_WEATHER",p="ADD",v={weather:{},favorites:[]},g=function(e,n){switch(n.type){case m:return Object(d.a)(Object(d.a)({},e),{},{weather:n.weather});case p:var t=n.weather.location.name;return-1===e.favorites.findIndex((function(e){return e.location.name===t}))?Object(d.a)(Object(d.a)({},e),{},{favorites:[].concat(Object(f.a)(e.favorites),[n.weather])}):e;default:return e}},h=Object(a.createContext)(),b={WeatherStateContext:h,WeatherStateProvider:function(e){var n=e.children;return r.a.createElement(h.Provider,{value:Object(a.useReducer)(g,v)},n)}},y=t(6),E=t(89),j=t(4),O=t(5);function x(){var e=Object(j.a)(["\n  font-size: 2rem;\n  margin: 1.5rem 0;\n"]);return x=function(){return e},e}function w(){var e=Object(j.a)(["\n  font-size: 4rem;\n  margin: 1.5rem 0;\n"]);return w=function(){return e},e}function k(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: space-between\n"]);return k=function(){return e},e}var C=O.a.div(k()),S=O.a.h2(w()),z=O.a.h4(x());var _=function(e){var n=e.primaryText,t=e.secondaryText,a=e.extra;return r.a.createElement("div",{style:{flexBasis:"100%"}},r.a.createElement(C,null,r.a.createElement(S,null,n),a),r.a.createElement(z,null,t))},W=t(37);function I(){var e=Object(j.a)(["\n  align-self: center;\n"]);return I=function(){return e},e}var M=O.a.span(I());function P(e){var n=e.onIconClick,t=e.icon;return r.a.createElement(M,{onClick:n},r.a.createElement(W.a,{icon:t,size:"2x"}))}P.defaultProps={onIconClick:function(){}};var R=P;function T(){var e=Object(j.a)(["\n  display: flex;\n  flex-wrap: wrap;\n\n  @media screen and (min-width: 769px) {\n    flex-basis: 50%;\n  }\n\n  @media screen and (max-width: 768px) {\n    flex-basis: 100%;\n  }\n"]);return T=function(){return e},e}var H=O.a.div(T());function D(){var e=Object(j.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return D=function(){return e},e}var F=O.a.div(D());F.MediaHeader=_,F.MediaHeaderIcon=R,F.MediaContent=H;var q=F;function L(){var e=Object(j.a)(["\n  align-self: center;\n\n  & > img {\n    border-radius: 10rem;\n    ",";\n  }\n"]);return L=function(){return e},e}var V=O.a.span(L(),(function(e){return e.size&&"height: ".concat(e.size,"; width: ").concat(e.size,";")}));var A=function(e){return r.a.createElement(V,{size:e.size},r.a.createElement("img",{alt:"weather icon",src:e.icon}))};function B(){var e=Object(j.a)(["\n  font-family: Raleway, sans-serif;\n  font-size: 4rem;\n  margin: 0;\n"]);return B=function(){return e},e}function J(){var e=Object(j.a)(["\n  font-family: Raleway, sans-serif;\n  font-size: 10rem;\n  margin: 0;\n"]);return J=function(){return e},e}var U=O.a.h3(J()),G=O.a.h4(B());var N=function(e){return r.a.createElement("div",{style:{alignSelf:"center"}},r.a.createElement(U,null,e.temperature," \u2103"),r.a.createElement(G,null,e.description))};function Y(){var e=Object(j.a)(["\n  display: inline-block;\n  flex-basis: 33.33%;\n  text-align: center;\n\n  & > div {\n    font-size: 4rem;\n  }\n\n  & > h5 {\n    font-family: Raleway, sans-serif;\n    font-size: 2.2rem;\n    font-weight: 400;\n    margin: 1rem 0;\n    text-align: center;\n  }\n"]);return Y=function(){return e},e}var K=O.a.div(Y());var Q=function(e){return r.a.createElement(K,null,r.a.createElement("div",null,e.value),r.a.createElement("h5",null,e.description))},X={WeatherIcon:A,WeatherTile:Q,WeatherTemp:N},Z=q.MediaHeader,$=q.MediaHeaderIcon,ee=q.MediaContent,ne=X.WeatherIcon,te=X.WeatherTemp;var ae=function(){var e=Object(a.useContext)(b.WeatherStateContext),n=Object(y.a)(e,2),t=n[0],c=t.weather,o=t.favorites,i=n[1],u=c.current,l=c.location;return 0===Object.keys(c).length?null:(console.log(o),r.a.createElement(q,null,r.a.createElement(Z,{primaryText:"".concat(l.name,", ").concat(l.country),secondaryText:new Date(1e3*l.localtime_epoch).toDateString(),extra:r.a.createElement($,{icon:E.a,onIconClick:function(){return i({type:p,weather:c})}})}),r.a.createElement(ee,{style:{justifyContent:"space-evenly"}},r.a.createElement(ne,{icon:u.weather_icons[0],size:"12rem"}),r.a.createElement(te,{temperature:u.temperature,description:u.weather_descriptions[0]})),r.a.createElement(ee,null,r.a.createElement(Q,{value:"".concat(u.wind_speed," km/h"),description:"Wind Speed"}),r.a.createElement(Q,{value:"".concat(u.wind_dir),description:"Wind Direction"}),r.a.createElement(Q,{value:"".concat(u.pressure," mb"),description:"Pressure"}),r.a.createElement(Q,{value:"".concat(u.humidity," %"),description:"Humidity"}),r.a.createElement(Q,{value:"".concat(u.cloudcover," %"),description:"Cloud Cover"}),r.a.createElement(Q,{value:"".concat(u.feelslike," ","\xb0","C"),description:"Feels like"}))))},re=t(90),ce=t.n(re),oe=t(91),ie=t.n(oe),ue=t(53),le=t(17),se=t.n(le),fe=t(38),de=t(39),me=t.n(de);function pe(){var e=Object(j.a)(["\n  background-color: transparent;\n  border: none;\n  margin-left: -3.5rem;\n  z-index: 10;\n  transition: all 0.2s ease-in-out;\n\n  &:active {\n    transform: translateY(5px);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return pe=function(){return e},e}function ve(){var e=Object(j.a)(["\n  & {\n    display: flex;\n\n    & .react-autosuggest {\n\n      &__container {\n        flex: 1;\n        position: relative;\n      }\n\n      &__input {\n        border: 2px solid var(--color-lightgrey);\n        font-family: 'Fredoka One', cursive;\n        font-size: 2.5rem;\n        letter-spacing: 2px;\n        padding: 1rem 4rem 1rem 1rem;\n        outline: none;\n        transition: all 0.2s ease-in-out;\n        width: 100%;\n\n        &::placeholder {\n          color: var(--color-lightgrey);\n        }\n\n        &:focus {\n          border: 2px solid var(--color-lightslategrey);\n\n          &::placeholder {\n            color: var(--color-lightslategrey);\n          }\n        }\n\n        &--open {\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      &__suggestions {\n        &-container {\n          display: none;\n        }\n\n        &-container--open {\n          display: block;\n          position: absolute;\n          top: 6rem;\n          width: 100%;\n          border: 2px solid var(--color-lightslategrey);\n          background-color: #fff;\n          font-family: Raleway;\n          font-weight: 400;\n          font-size: 1.6rem;\n          z-index: 2;\n        }\n\n        &-list {\n          margin: 0;\n          padding: 0;\n          list-style-type: none;\n        }\n      }\n\n      &__suggestion {\n        cursor: pointer;\n        padding: 1rem 2rem;\n\n        &--highlighted {\n          background-color: var(--color-lightslategrey);\n        }\n      }\n    }\n  }\n"]);return ve=function(){return e},e}var ge=O.a.div(ve()),he=O.a.button(pe());var be=function(){var e=Object(a.useState)(""),n=Object(y.a)(e,2),t=n[0],c=n[1],o=function(){var e=Object(a.useState)({}),n=Object(y.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(y.a)(c,2),i=o[0],u=o[1],l=Object(a.useState)({}),s=Object(y.a)(l,2),f=s[0],d=s[1];return{weather:t,isFetchingCurrent:i,fetchCurrent:Object(a.useCallback)(function(){var e=Object(fe.a)(se.a.mark((function e(n){var t,a,c;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:n},e.prev=1,u(!0),e.next=5,me.a.get("".concat("https://api.weatherstack.com","/current"),{params:t});case 5:a=e.sent,(c=a.data).error?d(c.error.info):r(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),d(e.t0);case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(n){return e.apply(this,arguments)}}(),[]),errorMessage:f}}(),i=o.weather,u=o.isFetchingCurrent,l=o.fetchCurrent,s=function(){var e=Object(a.useState)([]),n=Object(y.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(y.a)(c,2),i=o[0],u=o[1],l=Object(a.useState)({}),s=Object(y.a)(l,2),f=s[0],d=s[1],m=Object(a.useCallback)(function(){var e=Object(fe.a)(se.a.mark((function e(n){var t,a,c;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:n},e.prev=1,u(!0),e.next=5,me.a.get("".concat("https://api.weatherstack.com","/autocomplete"),{params:t});case 5:a=e.sent,(c=a.data).error?d(c.error.info):r(c.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),d(e.t0);case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(n){return e.apply(this,arguments)}}(),[]);return{results:t,setResults:r,isLookingUp:i,lookup:m,errorLookupMsg:f}}(),f=s.results,d=s.isLookingUp,p=s.lookup,v=Object(a.useContext)(b.WeatherStateContext),g=Object(y.a)(v,2)[1],h=Object(a.useMemo)((function(){return ce()(p,400)}),[p]);return Object(a.useEffect)((function(){g({type:m,weather:i})}),[i,g]),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target[0].value;""===n&&n===t||l(n)}},r.a.createElement(ge,null,r.a.createElement(ie.a,{inputProps:{placeholder:"Enter a city names",onChange:function(e,n){var t=n.newValue;c(t)},value:t},suggestions:f,onSuggestionsFetchRequested:function(e){var n=e.reason,t=e.value;"input-changed"===n?h(t):h.cancel()},onSuggestionsClearRequested:function(){},onSuggestionSelected:function(e,n){var t=n.suggestionValue;"click"===e.type&&l(t)},getSuggestionValue:function(e){return"".concat(e.name,", ").concat(e.region,", ").concat(e.country)},renderSuggestion:function(e){return r.a.createElement("span",null,"".concat(e.name,", ").concat(e.region,", ").concat(e.country))}}),r.a.createElement(he,null,r.a.createElement(W.a,{size:"2x",icon:d||u?ue.b:ue.a,spin:d||u}))))};var ye=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(a.useState)(),t=Object(y.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)(),i=Object(y.a)(o,2),u=i[0],l=i[1],s=function(e){var n=e.coords,t=n.latitude,a=n.longitude;c("".concat(t,",").concat(a))},f=function(e){l(e)},d=Object(a.useCallback)((function(){var n=navigator.geolocation;n?n.getCurrentPosition(s,f,e):l("Geolocation is not supported.")}),[e]);return{position:r,getPosition:d,error:u}}();return e.position,e.getPosition,r.a.createElement("div",{style:{padding:"100px"}},r.a.createElement("div",{style:{margin:"0 auto",width:"600px"}},r.a.createElement(be,{placeholder:"Enter a city name"})),r.a.createElement("div",null,r.a.createElement(ae,null)))};var Ee=function(){return r.a.createElement(l.a,{basename:window.location.pathname||""},r.a.createElement(b.WeatherStateProvider,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:ye}),r.a.createElement(s.a,{exact:!0,path:"/details",component:ae}))))};u()(r.a,{onlyLogs:!0,titleColor:"green",diffNameColor:"darkturquoise"}),o.a.render(r.a.createElement(Ee,null),document.getElementById("root"))},94:function(e,n,t){e.exports=t(238)}},[[94,1,2]]]);
//# sourceMappingURL=main.d2c8a726.chunk.js.map