(this["webpackJsonpdcs-weather-app"]=this["webpackJsonpdcs-weather-app"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(48),o=n.n(c),i=(n(61),n(18)),l=n(8),u=n(14),s=n(5),m="https://api.weatherstack.com",d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f={SEARCH_RESULT:"SEARCH_RESULT",SET_WEATHER_CURRENT:"SET_WEATHER_CURRENT",SET_WEATHER_FORECAST:"SET_WEATHER_FORECAST",ADD_CITIES:"ADD_CITIES",REMOVE_CITY:"REMOVE_CITY",TOGGLE_FAVORITES:"TOGGLE_FAVORITES",LOADING_CITIES:"LOADING_CITIES",LOADING_WEATHER:"LOADING_WEATHER",ADD_NOTE:"ADD_NOTE",REMOVE_NOTE:"REMOVE_NOTE",EDIT_NOTE:"EDIT_NOTE"},E={searchResult:{},weather:{},cities:[],favorites:[],notes:[],loadingCities:!1,loadingWeather:!1},p=function(e,t){switch(t.type){case f.SEARCH_RESULT:return Object(s.a)(Object(s.a)({},e),{},{searchResult:t.weather});case f.SET_WEATHER_CURRENT:return Object(s.a)(Object(s.a)({},e),{},{weather:t.weather});case f.ADD_CITIES:return Object(s.a)(Object(s.a)({},e),{},{cities:t.cities});case f.REMOVE_CITY:return Object(s.a)(Object(s.a)({},e),{},{cities:[].concat(Object(u.a)(e.cities.slice(0,t.cityIdx)),Object(u.a)(e.cities.slice(t.cityIdx+1)))});case f.TOGGLE_FAVORITES:var n=t.weather.location.name,a=e.favorites.findIndex((function(e){return e.location.name===n}));if(-1===a){var r=[].concat(Object(u.a)(e.favorites),[t.weather]).sort((function(e,t){return e.location.name.localeCompare(t.location.name)}));return Object(s.a)(Object(s.a)({},e),{},{favorites:r})}return Object(s.a)(Object(s.a)({},e),{},{favorites:[].concat(Object(u.a)(e.favorites.slice(0,a)),Object(u.a)(e.favorites.slice(a+1)))});case f.LOADING_CITIES:return Object(s.a)(Object(s.a)({},e),{},{loadingCities:t.loading});case f.LOADING_WEATHER:return Object(s.a)(Object(s.a)({},e),{},{loadingWeather:t.loading});case f.ADD_NOTE:return Object(s.a)(Object(s.a)({},e),{},{notes:[].concat(Object(u.a)(e.notes),[t.payload])});case f.REMOVE_NOTE:var c=e.notes.filter((function(e){return e.id!==t.payload.id}));return Object(s.a)(Object(s.a)({},e),{},{notes:c});case f.EDIT_NOTE:var o=e.notes.findIndex((function(e){return e.id===t.payload.id}));return Object(s.a)(Object(s.a)({},e),{},{notes:[].concat(Object(u.a)(e.notes.slice(0,o)),[Object(s.a)(Object(s.a)({},e.notes[o]),{},{note:t.payload.note,editedAt:t.payload.editedAt})],Object(u.a)(e.notes.slice(o+1)))});default:return e}},v=Object(a.createContext)(),y={WeatherStateContext:v,WeatherStateProvider:function(e){var t=e.children;return r.a.createElement(v.Provider,{value:Object(a.useReducer)(p,E)},t)}},b=n(1),g=n(2);function h(){var e=Object(b.a)(["\n  margin-bottom: 2.5rem;\n"]);return h=function(){return e},e}var O=g.a.div(h());function j(){var e=Object(b.a)(["\n  margin-top: 1.5rem;\n  padding: 0 20rem;\n"]);return j=function(){return e},e}var x=g.a.div(j());x.Panel=O;var w=x,T=n(4),C=n(52),z=n.n(C),_=n(53),k=n.n(_),S=n(25),I=n(7),R=n(13),A=n.n(R),D=n(16),L=n(15),N=n.n(L);function W(){var e=Object(a.useContext)(y.WeatherStateContext),t=Object(T.a)(e,2)[1],n=Object(a.useState)({}),r=Object(T.a)(n,2),c=r[0],o=r[1];return{fetchWeather:Object(a.useCallback)(function(){var e=Object(D.a)(A.a.mark((function e(n,a){var r,c,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:n},e.prev=1,t({type:f.LOADING_WEATHER,loading:!0}),e.next=5,N.a.get("".concat(m,"/current"),{params:r});case 5:c=e.sent,(i=c.data).error?o(i.error.info):t({type:f[a],weather:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o(e.t0);case 13:return e.prev=13,t({type:f.LOADING_WEATHER,loading:!1}),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),[t]),errorMessage:c}}function G(){var e=Object(b.a)(["\n  cursor: pointer;\n  background-color: transparent;\n  border: none;\n\n  > span {\n    font-family: Raleway;\n    font-size: 1.5rem;\n    font-weight: 600;\n    text-decoration: underline;\n  }\n"]);return G=function(){return e},e}function H(){var e=Object(b.a)(["\n  background-color: transparent;\n  border: none;\n  margin-left: -3.5rem;\n  z-index: 10;\n  transition: all 0.2s ease-in-out;\n\n  &:active {\n    transform: translateY(5px);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return H=function(){return e},e}function F(){var e=Object(b.a)(["\n  & {\n    display: flex;\n\n    & .react-autosuggest {\n      &__container {\n        flex: 1;\n        position: relative;\n      }\n\n      &__input {\n        border: 2px solid var(--color-lightgrey);\n        font-family: 'Fredoka One', cursive;\n        font-size: 2.5rem;\n        letter-spacing: 2px;\n        padding: 1rem 4rem 1rem 1rem;\n        outline: none;\n        transition: all 0.2s ease-in-out;\n        width: 100%;\n\n        &::placeholder {\n          color: var(--color-lightgrey);\n        }\n\n        &:focus {\n          border: 2px solid var(--color-lightslategrey);\n\n          &::placeholder {\n            color: var(--color-lightslategrey);\n          }\n        }\n\n        &--open {\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        }\n      }\n\n      &__suggestions {\n        &-container {\n          display: none;\n        }\n\n        &-container--open {\n          display: block;\n          position: absolute;\n          top: 6rem;\n          width: 100%;\n          border: 2px solid var(--color-lightslategrey);\n          background-color: #fff;\n          font-family: Raleway;\n          font-weight: 400;\n          font-size: 1.6rem;\n          z-index: 10;\n        }\n\n        &-list {\n          margin: 0;\n          padding: 0;\n          list-style-type: none;\n        }\n      }\n\n      &__suggestion {\n        cursor: pointer;\n        padding: 1rem 2rem;\n\n        &--highlighted {\n          background-color: var(--color-lightslategrey);\n        }\n      }\n    }\n  }\n"]);return F=function(){return e},e}function B(){var e=Object(b.a)(["\n  margin: 0 auto;\n  max-width: 60rem;\n"]);return B=function(){return e},e}var P=g.a.div(B()),V=g.a.div(F()),M=g.a.button(H()),q=g.a.button(G());var U=function(){var e=Object(a.useState)(""),t=Object(T.a)(e,2),n=t[0],c=t[1],o=Object(l.f)(),i=W(),u=i.fetchWeather,s=i.isLoadingWeather,d=function(){var e=Object(a.useState)([]),t=Object(T.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(T.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)({}),s=Object(T.a)(u,2),d=s[0],f=s[1],E=Object(a.useCallback)(function(){var e=Object(D.a)(A.a.mark((function e(t){var n,a,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:t},e.prev=1,l(!0),e.next=5,N.a.get("".concat(m,"/autocomplete"),{params:n});case 5:a=e.sent,(c=a.data).error?f(c.error.info):r(c.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f(e.t0);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{results:n,setResults:r,isLookingUp:i,lookup:E,errorLookupMsg:d}}(),E=d.results,p=d.isLookingUp,v=d.lookup,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(),n=Object(T.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(),i=Object(T.a)(o,2),l=i[0],u=i[1],s=function(e){var t=e.coords,n=t.latitude,a=t.longitude;c("".concat(n,",").concat(a))},m=function(e){u(e)},d=Object(a.useCallback)((function(){var t=navigator.geolocation;t?t.getCurrentPosition(s,m,e):u("Geolocation is not supported.")}),[e]);return{position:r,getPosition:d,error:l}}(),b=y.position,g=y.getPosition,h=Object(a.useMemo)((function(){return z()(v,400)}),[v]);return Object(a.useEffect)((function(){b&&o.push("/details",{query:b})}),[b,o,n]),r.a.createElement(P,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=e.target[0].value;""!==t&&u(t,f.SEARCH_RESULT)}},r.a.createElement(V,null,r.a.createElement(k.a,{focusInputOnSuggestionClick:!1,inputProps:{placeholder:"Enter a city name",onChange:function(e,t){var n=t.newValue;c(n)},value:n},suggestions:E,onSuggestionsFetchRequested:function(e){var t=e.reason,n=e.value;"input-changed"===t?h(n):h.cancel()},onSuggestionsClearRequested:function(){},onSuggestionSelected:function(e,t){var n=t.suggestionValue;"click"===e.type&&u(n,f.SEARCH_RESULT)},getSuggestionValue:function(e){return"".concat(e.name,", ").concat(e.region,", ").concat(e.country)},renderSuggestion:function(e){return r.a.createElement("span",null,"".concat(e.name,", ").concat(e.region,", ").concat(e.country))}}),r.a.createElement(M,null,r.a.createElement(S.a,{size:"2x",icon:p||s?I.e:I.d,spin:p||s})))),r.a.createElement("div",{style:{marginTop:"1rem",textAlign:"center"}},r.a.createElement(q,{onClick:function(){return g()}},r.a.createElement("span",null,"Or use my location"))))},Y=n(9),J=n(54);function Z(){var e=Object(b.a)(["\n  display: inline-block;\n\n  ",";\n  ",";\n"]);return Z=function(){return e},e}var K=g.a.span(Z(),(function(e){return e.color&&"color: ".concat(e.color)}),(function(e){return e.hover&&"cursor: pointer"}));var Q=function(e){var t=e.color,n=e.icon,a=e.size,c=e.onIconClick,o=e.hover,i=e.spin;return r.a.createElement(K,{color:t,onClick:c,hover:o},r.a.createElement(S.a,{icon:n,size:a,spin:i}))};function X(){var e=Object(b.a)(["\n  ",";\n  ",";\n  ",";\n  ",";\n"]);return X=function(){return e},e}var $=g.a.span(X(),(function(e){return e.primary&&"font-family: 'Fredoka One'"}),(function(e){return e.secondary&&"font-family: 'Raleway'"}),(function(e){return e.weight&&"font-weight: ".concat(e.weight)}),(function(e){return e.size&&"font-size: ".concat(e.size)}));function ee(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  text-align: center;\n  align-items: center;\n"]);return ee=function(){return e},e}var te=g.a.div(ee());function ne(){var e=Object(b.a)(["\n  margin-bottom: 1.5rem;\n"]);return ne=function(){return e},e}var ae=g.a.div(ne());function re(){var e=Object(b.a)(["\n  display: inline-block;\n"]);return re=function(){return e},e}var ce=g.a.div(re());ce.Group=te,ce.Body=ae;var oe=ce;function ie(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 14.25rem;\n\n  & span {\n    color: lightgrey;\n  }\n"]);return ie=function(){return e},e}var le=g.a.div(ie());var ue=function(e){var t=e.text,n=e.size,a=e.icon,c=e.spin;return r.a.createElement(le,null,r.a.createElement(Q,{icon:a,size:n,spin:c}),r.a.createElement($,{size:"2rem",secondary:!0},t))};function se(){var e=Object(b.a)(["\n  align-self: flex-end;\n\n  & > img {\n    border-radius: 10rem;\n    height: 12rem;\n    width: 12rem;\n  }\n"]);return se=function(){return e},e}function me(){var e=Object(b.a)(["\n  flex: 1;\n"]);return me=function(){return e},e}function de(){var e=Object(b.a)(["\n  display: flex;\n  flex-basis: 40%;\n  justify-content: space-evenly;\n"]);return de=function(){return e},e}function fe(){var e=Object(b.a)(["\n  display: flex;\n"]);return fe=function(){return e},e}function Ee(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 2.5rem;\n\n  h2 {\n    margin-bottom: 1rem;\n  }\n"]);return Ee=function(){return e},e}var pe=g.a.header(Ee()),ve=g.a.div(fe()),ye=g.a.div(de()),be=g.a.div(me()),ge=g.a.span(se());var he=function(e){var t=e.weather,n=e.favorites,a=e.onToggleFavorites,c=e.loading,o=t.current,i=t.location;return 0===Object.keys(t).length||c?r.a.createElement(ue,{size:"6x",text:c?"Loading weather...":"Weather information",icon:c?I.e:Y.e,spin:c}):r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null,r.a.createElement("div",null,r.a.createElement("h2",{style:{display:"inline-block"}},r.a.createElement($,{size:"3rem",primary:!0},"".concat(i.name,", ").concat(i.country))),r.a.createElement("p",null,r.a.createElement($,{weight:"300",size:"2.5rem",secondary:!0},new Date(1e3*i.localtime_epoch).toDateString()))),r.a.createElement(Q,{hover:!0,color:"orange",size:"3x",icon:-1!==n.findIndex((function(e){return e.location.name===i.name}))?I.f:Y.d,onIconClick:a})),r.a.createElement(ve,null,r.a.createElement(ye,null,r.a.createElement(ge,null,r.a.createElement("img",{alt:"weather icon",src:o.weather_icons[0]})),r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement($,{size:"10rem",secondary:!0},o.temperature,"\xb0")),r.a.createElement("h4",null,r.a.createElement($,{size:"2.5rem",weight:"400",secondary:!0},o.weather_descriptions[0])))),r.a.createElement(be,null,r.a.createElement(oe.Group,{style:{height:"100%"}},r.a.createElement(oe,null,r.a.createElement($,{size:"2rem",weight:"300",primary:!0},"Wind Speed"),r.a.createElement(oe.Body,null,r.a.createElement($,{size:"2.5rem",secondary:!0},"".concat(o.wind_speed," km/h"))),r.a.createElement(Q,{icon:I.j,size:"4x"})),r.a.createElement(oe,null,r.a.createElement($,{size:"2rem",weight:"300",primary:!0},"Wind Direction"),r.a.createElement(oe.Body,null,r.a.createElement($,{size:"2.5rem",secondary:!0},"".concat(o.wind_dir))),r.a.createElement(Q,{icon:Y.a,size:"4x"})),r.a.createElement(oe,null,r.a.createElement($,{size:"2rem",weight:"300",primary:!0},"Pressure"),r.a.createElement(oe.Body,null,r.a.createElement($,{size:"2.5rem",secondary:!0},"".concat(o.pressure," mb"))),r.a.createElement(Q,{icon:J.a,size:"4x"})),r.a.createElement(oe,null,r.a.createElement($,{size:"2rem",weight:"300",primary:!0},"Humidity"),r.a.createElement(oe.Body,null,r.a.createElement($,{size:"2.5rem",secondary:!0},"".concat(o.humidity," %"))),r.a.createElement(Q,{icon:I.i,size:"4x"})),r.a.createElement(oe,null,r.a.createElement($,{size:"2rem",weight:"300",primary:!0},"Cloud Cover"),r.a.createElement(oe.Body,null,r.a.createElement($,{size:"2.5rem",secondary:!0},"".concat(o.cloudcover," %"))),r.a.createElement(Q,{icon:I.b,size:"4x"})),r.a.createElement(oe,null,r.a.createElement($,{size:"2rem",weight:"300",primary:!0},"Feels like"),r.a.createElement(oe.Body,null,r.a.createElement($,{size:"2.5rem",secondary:!0},"".concat(o.feelslike," ","\xb0","C"))),r.a.createElement(Q,{icon:I.g,size:"4x"}))))))};var Oe=function(e){var t=e.source,n=Object(a.useContext)(y.WeatherStateContext),c=Object(T.a)(n,2),o=c[0],i=o.loadingWeather,l=o.searchResult,u=o.favorites,s=o.weather,m=c[1];return r.a.createElement(he,{loading:i,weather:"search"===t?l:s,favorites:u,onToggleFavorites:function(){return m({type:f.TOGGLE_FAVORITES,weather:"search"===t?l:s})}})};function je(){var e=Object(b.a)(["\n  display: grid;\n  grid-column-gap: 2rem;\n  grid-row-gap: 2rem;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n"]);return je=function(){return e},e}var xe=g.a.div(je());function we(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return we=function(){return e},e}var Te=g.a.header(we());var Ce=function(e){var t=e.title,n=e.subtitle,a=e.children;return r.a.createElement(Te,null,r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement($,{size:"2rem",primary:!0},t)),r.a.createElement("p",{style:{minHeight:"1.8rem"}},r.a.createElement($,{size:"1.5rem",weight:"200",secondary:!0},n))),a)};function ze(){var e=Object(b.a)([""]);return ze=function(){return e},e}var _e=g.a.div(ze());function ke(){var e=Object(b.a)(["\n  background: #fff;\n  padding: 0 1rem;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0;\n  top: 100%;\n  transition: all 0.2s ease-out;\n"]);return ke=function(){return e},e}var Se=g.a.div(ke());function Ie(){var e=Object(b.a)(["\n  border: 1px solid grey;\n  padding: 1rem;\n  position: relative;\n  transition: all 0.2s ease-out;\n\n  ","\n"]);return Ie=function(){return e},e}var Re=g.a.div(Ie(),(function(e){return e.hover&&"&:hover {\n    border: 1px solid deepskyblue;\n    transform: translateY(-10px);\n    .overlay {\n      opacity: 0.8;\n      top: 33%;\n    }\n  }"}));Re.Header=Ce,Re.Body=_e,Re.Overlay=Se;var Ae=Re;function De(){var e=Object(b.a)(["\n  background-color: #fff;\n  border: 1px solid slategray;\n  border-radius: 5rem;\n  font-size: 1.2rem;\n  padding: 5px 8px;\n  transition: all 0.2s ease-out;\n\n  &:hover {\n    cursor: pointer;\n    border: 1px solid deepskyblue;\n    color: deepskyblue;\n  }\n\n  &:active {\n    transform: translateY(5px);\n  }\n"]);return De=function(){return e},e}function Le(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  justify-content: center;\n  height: 100%;\n\n  & > button:first-child {\n    margin-bottom: 5px;\n  }\n"]);return Le=function(){return e},e}function Ne(){var e=Object(b.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ne=function(){return e},e}var We=g.a.div(Ne()),Ge=g.a.div(Le()),He=g.a.button(De());He.Group=Ge,He.Icon=We;var Fe=He;function Be(){var e=Object(b.a)(["\n  margin-bottom: 2.5rem;\n"]);return Be=function(){return e},e}var Pe=g.a.header(Be());var Ve=function(){var e=Object(a.useContext)(y.WeatherStateContext),t=Object(T.a)(e,2),n=t[0].favorites,c=t[1],o=Object(l.f)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null,r.a.createElement("h2",null,r.a.createElement($,{size:"3rem",primary:!0},"Favorites (".concat(n.length,")")))),0===n.length?r.a.createElement(ue,{size:"6x",text:"No favorites",icon:Y.b}):r.a.createElement(xe,{style:{minHeight:"14.25rem"}},n.map((function(e,t){var n=e.current,a=e.location;return r.a.createElement(Ae,{key:t,hover:!0},r.a.createElement(Ae.Header,{title:a.name,subtitle:a.region},r.a.createElement(Q,{hover:!0,color:"orange",size:"2x",icon:I.f,onIconClick:function(){return c({type:f.TOGGLE_FAVORITES,weather:e})}})),r.a.createElement(Ae.Body,null,r.a.createElement("div",null,r.a.createElement($,{size:"5rem",secondary:!0},n.temperature,"\xb0")),r.a.createElement("p",{style:{minHeight:"3.7rem"}},r.a.createElement($,{size:"1.5rem",weight:"200",secondary:!0},n.weather_descriptions[0]))),r.a.createElement(Ae.Overlay,{className:"overlay"},r.a.createElement(Fe.Group,null,r.a.createElement(Fe,{onClick:function(){return o.push("/details",{weather:e,query:a.name})}},"Learn more"))))}))))},Me=n(28);var qe=function(){var e=Object(a.useContext)(y.WeatherStateContext),t=Object(T.a)(e,2),n=t[0],c=n.cities,o=n.loadingCities,i=n.favorites,d=t[1],E=Object(l.f)(),p=function(){var e=Object(a.useContext)(y.WeatherStateContext),t=Object(T.a)(e,2)[1],n=Object(a.useState)(),r=Object(T.a)(n,2),c=r[0],o=r[1];return{fetchCities:Object(a.useCallback)(Object(D.a)(A.a.mark((function e(){var n,a,r,c,i,l,d,E,p,v,y,b;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("cities.json");case 2:n=e.sent,a=n.data,r={},c=Object(Me.a)(a);try{for(c.s();!(i=c.n()).done;)l=i.value,r[l.Name]={population:l.Population,rank:l.rank}}catch(g){c.e(g)}finally{c.f()}return d=a.reduce((function(e,t){return[].concat(Object(u.a)(e),[t.Name])}),[]).join(";"),E={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",query:d},e.prev=9,t({type:f.LOADING_CITIES,loading:!0}),e.next=13,N.a.get("".concat(m,"/current"),{params:E});case 13:p=e.sent,v=p.data,y=v.sort((function(e,t){return e.location.name.localeCompare(t.location.name)})),b=y.map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{population:r[e.location.name].population,rank:r[e.location.name].rank})})),t({type:f.ADD_CITIES,cities:b}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),o(e.t0);case 23:return e.prev=23,t({type:f.LOADING_CITIES,loading:!1}),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[9,20,23,26]])}))),[t]),errorCitiesMsg:c}}().fetchCities;return Object(a.useEffect)((function(){0===c.length&&p()}),[c,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null,r.a.createElement("h2",null,r.a.createElement($,{size:"3rem",primary:!0},"Top 15 cities by Population (A-Z)"))),o?r.a.createElement(ue,{size:"6x",text:o?"Loading cities...":"No cities found",icon:o?I.e:Y.b,spin:o}):r.a.createElement(xe,null,function(){var e=function(){var e,t={},n=Object(Me.a)(i);try{for(n.s();!(e=n.n()).done;){var a=e.value;t[a.location.name]=a.location.name}}catch(r){n.e(r)}finally{n.f()}return t}(),t=/\B(?=(\d{3})+(?!\d))/g;return c.map((function(n,a){var c=n.current,o=n.location,i=n.population,l=n.rank;return r.a.createElement(Ae,{key:a,hover:!0},r.a.createElement(Ae.Header,{title:o.name,subtitle:o.region},r.a.createElement(Q,{hover:!0,color:"orange",size:"2x",icon:e[o.name]?I.f:Y.d,onIconClick:function(){return d({type:f.TOGGLE_FAVORITES,weather:n})}})),r.a.createElement(Ae.Body,null,r.a.createElement("div",null,r.a.createElement($,{size:"5rem",secondary:!0},c.temperature,"\xb0")),r.a.createElement("p",{style:{minHeight:"3.7rem"}},r.a.createElement($,{size:"1.5rem",weight:"200",secondary:!0},c.weather_descriptions[0]))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement($,{weight:"600",size:"1.4rem",secondary:!0},"Rank: ",l)),r.a.createElement("div",null,r.a.createElement($,{weight:"600",size:"1.4rem",secondary:!0},"Population: ",i.toString().replace(t,",")))),r.a.createElement(Ae.Overlay,{className:"overlay"},r.a.createElement(Fe.Group,null,r.a.createElement(Fe,{onClick:function(){return E.push("/details",{weather:n,query:o.name})}},"Learn more"),r.a.createElement(Fe,{onClick:function(){d({type:f.REMOVE_CITY,cityIdx:a})}},"Remove"))))}))}()))};var Ue=function(){return r.a.createElement(w,null,r.a.createElement(w.Panel,null,r.a.createElement("header",null,r.a.createElement("h1",{style:{textAlign:"center",marginBottom:"1.5rem"}},r.a.createElement($,{size:"3.5rem",primary:!0},"Weather App")),r.a.createElement(U,null))),r.a.createElement("main",null,r.a.createElement(w.Panel,null,r.a.createElement(Oe,{source:"search"})),r.a.createElement(w.Panel,null,r.a.createElement(Ve,null)),r.a.createElement(w.Panel,null,r.a.createElement(qe,null))))};var Ye=function(e){var t=function(e){var t=Object(a.useState)({}),n=Object(T.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),i=Object(T.a)(o,2),l=i[0],u=i[1],s=Object(a.useState)(""),d=Object(T.a)(s,2),f=d[0],E=d[1],p=Object(a.useCallback)(Object(D.a)(A.a.mark((function t(){var n,a,r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={access_key:"77fc5a17b4912688fe7acd4acb23d8e4",forecast_days:7,query:e},t.prev=1,u(!0),t.next=5,N.a.get("".concat(m,"/forecast"),{params:n});case 5:a=t.sent,r=a.data,c(r.forecast),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),E(t.t0);case 13:return t.prev=13,u(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])}))),[e]);return Object(a.useEffect)((function(){p(e)}),[p,e]),{forecast:r,isLoadingForecoast:l,errorForecastMsg:f}}(e.cityData),n=t.forecast,c=t.isLoadingForecoast;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null,r.a.createElement("h2",null,r.a.createElement($,{size:"3rem",primary:!0},"7-day Forecast"))),0===Object.keys(n).length?r.a.createElement(ue,{size:"6x",text:c?"Loading forecast...":"No forecast",icon:c?I.e:Y.b,spin:c}):r.a.createElement(xe,{style:{minHeight:"14.25rem"}},function(){var e=[];for(var t in n){var a=new Date(n[t].date).getDay();e.push(r.a.createElement(Ae,{key:t},r.a.createElement(Ae.Header,{title:d[a]}),r.a.createElement(Ae.Body,{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"}},r.a.createElement("div",{style:{flex:1}},r.a.createElement($,{size:"5rem",secondary:!0},n[t].avgtemp,"\xb0")),r.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",null,r.a.createElement($,{size:"1.5rem",primary:!0},"max:\xa0"),r.a.createElement($,{size:"1.8rem",secondary:!0},n[t].maxtemp,"\xb0")),r.a.createElement("div",null,r.a.createElement($,{size:"1.5rem",primary:!0},"min:\xa0"),r.a.createElement($,{size:"1.8rem",secondary:!0},n[t].mintemp,"\xb0")))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(Q,{icon:Y.e,size:"2x"}),r.a.createElement($,{size:"1.3rem",secondary:!0},n[t].astro.sunrise),r.a.createElement(Q,{icon:Y.c,size:"2x"}),r.a.createElement($,{size:"1.3rem",secondary:!0},n[t].astro.moonrise))))}return e}()))},Je=n(55),Ze=n.n(Je);var Ke=function(e){var t=e.value,n=e.onBlur,c=Object(a.useState)(t||""),o=Object(T.a)(c,2),i=o[0],l=o[1];return r.a.createElement("textarea",{style:{resize:"none",width:"100%"},rows:"5",value:i,onChange:function(e){return l(e.target.value)},onBlur:function(){return n(i)},autoFocus:!0})};function Qe(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return Qe=function(){return e},e}var Xe=Object(g.a)(Pe)(Qe());var $e=function(){var e=Object(a.useContext)(y.WeatherStateContext),t=Object(T.a)(e,2),n=t[0],c=n.weather,o=n.notes,i=n.loadingWeather,l=t[1],u=function(e){return console.log(e),e.map((function(e,t){return r.a.createElement(Ae,{key:"".concat(e.name,"-").concat(t)},r.a.createElement(Ae.Header,{title:e.dateCreated},r.a.createElement(Q,{hover:!0,size:"2x",icon:I.h,onIconClick:function(){return l({type:f.REMOVE_NOTE,payload:{id:e.id}})}})),r.a.createElement(Ae.Body,{style:{marginBottom:"1rem",marginTop:"1rem"}},r.a.createElement(Ke,{value:e.note,onBlur:function(t){console.log(t),""!==t&&t!==e.note&&l({type:f.EDIT_NOTE,payload:{id:e.id,note:t,editedAt:(new Date).toLocaleTimeString()}})}})),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",null,r.a.createElement($,{size:"1.5rem",weight:"600",secondary:!0},"Created at:"," "),r.a.createElement($,{size:"1.5rem",secondary:!0},e.createdAt)),r.a.createElement("div",null,r.a.createElement($,{size:"1.5rem",weight:"600",secondary:!0},"Edited at:"," "),r.a.createElement($,{size:"1.5rem",secondary:!0},e.editedAt))))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xe,null,r.a.createElement("h2",null,r.a.createElement($,{size:"3rem",primary:!0},"Notes")),r.a.createElement(Q,{onIconClick:function(){l({type:f.ADD_NOTE,payload:{name:c.location.name,id:Ze()("".concat(c.location.name,"_")),dateCreated:(new Date).toLocaleDateString(),createdAt:(new Date).toLocaleTimeString()}})},size:"3x",icon:I.c,hover:!0})),i?r.a.createElement(ue,{size:"6x",text:i?"Loading notes...":"Add some notes here",icon:i?I.e:Y.b,spin:i}):function(){var e=c.location,t=o.filter((function(t){return t.name===e.name}));return 0===t.length?r.a.createElement(ue,{size:"6x",text:"Add some notes here'",icon:Y.b}):r.a.createElement(xe,null,u(t))}())};var et=function(e){var t=e.history.location.state.query,n=Object(l.f)(),c=W().fetchWeather;return Object(a.useEffect)((function(){t&&c(t,f.SET_WEATHER_CURRENT)}),[c,t]),r.a.createElement(w,null,r.a.createElement(w.Panel,null,r.a.createElement(Fe,{onClick:function(){return n.push("/")}},r.a.createElement(Fe.Icon,null,r.a.createElement(Q,{icon:I.a}),r.a.createElement($,{style:{marginLeft:"1rem"},size:"1.5rem",secondary:!0},"Back to home")))),r.a.createElement(w.Panel,null,r.a.createElement(Oe,{source:"query"})),r.a.createElement(w.Panel,null,r.a.createElement(Ye,{cityData:t})),r.a.createElement(w.Panel,null,r.a.createElement($e,null)))};var tt=function(){return r.a.createElement(i.a,{basename:"/dcs-weather-app/"},r.a.createElement(y.WeatherStateProvider,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:Ue}),r.a.createElement(l.a,{path:"/details",component:et}))))};o.a.render(r.a.createElement(tt,null),document.getElementById("root"))},56:function(e,t,n){e.exports=n(106)},61:function(e,t,n){}},[[56,1,2]]]);
//# sourceMappingURL=main.9c7969e1.chunk.js.map